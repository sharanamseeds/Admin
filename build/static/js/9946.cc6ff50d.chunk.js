"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[9946],{2023:(e,t,i)=>{i.d(t,{A:()=>r});i(5043);var n=i(6240),l=i(7392),s=i(9120),o=i(579);const r=function(){const e=(0,n.A)();return(0,o.jsx)("div",{style:{display:"flex",justifyContent:"start"},children:(0,o.jsxs)(l.A,{variant:"contained",sx:{color:e.palette.common.white,width:"max-content",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.main}},onClick:()=>window.history.back(),children:[(0,o.jsx)(s.A,{})," "]})})}},3903:(e,t,i)=>{i.d(t,{A:()=>l});i(5043);var n=i(579);const l=function(e){let{label:t,value:i,...l}=e;return(0,n.jsxs)("div",{...l,children:[(0,n.jsx)("div",{style:{padding:"0.5rem 0px",color:"#083344",borderRadius:"5px",border:"none"},children:(s=t,s.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "))}),(0,n.jsx)("div",{style:{padding:"0.5rem 1rem",backgroundColor:"#f4f6f8",borderRadius:"5px",border:"none"},children:i||"Not Set"})]});var s}},2526:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(5043),l=i(184),s=i(6720),o=i(7392),r=i(7121),a=i(6240),d=i(579);const c=e=>{let{src:t,alt:i,height:c="auto",width:x="auto",radius:u="10px",isDeletable:h=!1,deletePath:m="",deleteImage:p=e=>{}}=e;const y=(0,a.A)(),[v,f]=(0,n.useState)(!1),j=()=>{f(!v)};return(0,d.jsx)("div",{children:t?(0,d.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,d.jsx)("img",{style:{cursor:"pointer",borderRadius:u},src:t,alt:i,onClick:j,height:c,width:x}),(0,d.jsxs)("div",{style:{position:"absolute",height:"-webkit-fill-available",width:"100%",top:"0px",display:"flex",gap:"10px",justifyContent:"end",alignItems:"start"},children:[(0,d.jsx)(o.A,{size:"small",onClick:j,style:{color:y.palette.warning.main},children:(0,d.jsx)(l.Ny1,{})}),h&&(0,d.jsx)(o.A,{size:"small",className:"delete",onClick:()=>p(m),style:{color:y.palette.error.main},children:(0,d.jsx)(s.b6i,{})})]}),(0,d.jsx)("div",{style:{display:v?"flex":"none",position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:j,children:(0,d.jsx)("img",{src:t,alt:i,style:{maxWidth:"90%",maxHeight:"90%",borderRadius:"10px"}})})]}):(0,d.jsx)(r.A,{animation:"wave",variant:"rounded",style:{height:c,width:x,marginBottom:"0.4rem"}})})}},5804:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w});var n=i(6240),l=i(8903),s=i(2110),o=i(6494),r=i(5865),a=i(6446),d=i(1906),c=i(5043),x=i(3003),u=i(3216),h=i(3903),m=i(1935),p=i(4356),y=i(7863),v=i(1944),f=i(2526),j=i(74),g=i.n(j),A=i(8402),b=i(2023),C=i(579);const w=function(){var e,t;const[i,j]=(0,c.useState)(),[w,k]=(0,c.useState)(),{id:I}=(0,u.g)(),_=(0,n.A)(),S=(0,x.wA)(),B=(0,u.Zp)();return(0,c.useEffect)((()=>{(async()=>{try{var e;S((0,m.vL)());const s=await y.A.get(v.A.Bills.GET_BY_ID+I);var t,i,n,l;null!==(e=s.data)&&void 0!==e&&e.payload&&(j(null===(t=s.data)||void 0===t||null===(i=t.payload)||void 0===i?void 0:i.result),k(null===(n=s.data)||void 0===n||null===(l=n.payload)||void 0===l?void 0:l.bill)),S((0,m.xv)())}catch(r){var s,o;console.log(r),(0,p.f1)(null===r||void 0===r||null===(s=r.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message),S((0,m.xv)())}})()}),[I]),(0,C.jsxs)(l.Ay,{container:!0,spacing:2,alignItems:"stretch",justifyContent:"end",children:[(0,C.jsx)(l.Ay,{item:!0,xs:12,sx:{paddingTop:{xs:"0.5rem !important",sx:"0.5rem !important",md:"0px !important"}},children:(0,C.jsx)(b.A,{})}),(0,C.jsx)(l.Ay,{item:!0,xs:12,children:(0,C.jsx)(s.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,C.jsx)(o.A,{style:{flex:1},children:(0,C.jsxs)(r.A,{variant:"h4",style:{fontWeight:"bold"},children:["Invoice No : ",null===i||void 0===i?void 0:i.invoice_id]})})})}),(0,C.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(s.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,C.jsxs)(o.A,{style:{flex:1},children:[(0,C.jsx)(r.A,{variant:"h4",style:{fontWeight:"bold",marginBottom:"0.75rem"},sx:{marginBottom:"0.5rem"},children:"Buyer Details"}),(0,C.jsxs)("p",{children:["Name: ",null===w||void 0===w?void 0:w.sellerName]}),(0,C.jsxs)("p",{children:["Address: ",null===w||void 0===w?void 0:w.sellerAddress]}),(0,C.jsxs)("p",{children:["Email: ",null===w||void 0===w?void 0:w.sellerEmail]}),(0,C.jsxs)("p",{children:["Phone: ",null===w||void 0===w?void 0:w.sellerPhone]}),(0,C.jsxs)("p",{children:["GST No.: ",null===w||void 0===w?void 0:w.sellerGST]})]})})}),(0,C.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(s.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,C.jsxs)(o.A,{style:{flex:1},children:[(0,C.jsx)(r.A,{variant:"h4",style:{fontWeight:"bold",marginBottom:"0.75rem"},sx:{marginBottom:"0.5rem"},children:"Seller Details"}),(0,C.jsxs)("p",{children:["Name: ",null===w||void 0===w?void 0:w.buyerName]}),(0,C.jsxs)("p",{children:["Address: ",null===w||void 0===w?void 0:w.buyerAddress]}),(0,C.jsxs)("p",{children:["Email: ",null===w||void 0===w?void 0:w.buyerEmail]}),(0,C.jsxs)("p",{children:["Phone: ",null===w||void 0===w?void 0:w.buyerPhone]}),(0,C.jsxs)("p",{children:["GST No.: ",null===w||void 0===w?void 0:w.buyerGST]})]})})}),(0,C.jsxs)(l.Ay,{item:!0,xs:12,children:[(0,C.jsx)("div",{style:{width:"100%",marginTop:"1rem"},children:(0,C.jsxs)("div",{style:{fontWeight:"bold",color:_.palette.text.primary,display:"flex",justifyContent:"space-between",padding:"15px",marginTop:"1rem",backgroundColor:_.palette.background.paper,borderRadius:"10px",boxShadow:_.shadows[1]},children:[(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Item Name"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Product Code"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Man. Date"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Exe. Date"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Quantity"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Rate"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"GST Rate"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"GST Amount"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Discount"})]})}),(null===w||void 0===w||null===(e=w.items)||void 0===e?void 0:e.length)>0?null===w||void 0===w||null===(t=w.items)||void 0===t?void 0:t.map(((e,t)=>(0,C.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"15px",marginTop:"1rem",backgroundColor:_.palette.background.paper,borderRadius:"10px",boxShadow:_.shadows[1]},children:[(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.product_name}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.product_code}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.manufacture_date}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.expiry_date}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.quantity}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.rate}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.gstRate}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.gstAmount}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.discount})]},t))):(0,C.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"15px",marginTop:"1rem",backgroundColor:_.palette.background.paper,borderRadius:"10px",boxShadow:_.shadows[1]},children:"No Products Found"})]}),(0,C.jsx)(l.Ay,{item:!0,xs:12,children:(0,C.jsx)(s.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,C.jsxs)(o.A,{style:{flex:1,textAlign:"right"},children:[(0,C.jsx)(r.A,{variant:"h4",style:{fontWeight:"bold",marginBottom:"0.75rem"},sx:{marginBottom:"0.5rem"},children:"Amount Details"}),(0,C.jsxs)("p",{children:["Order Amount: ",null===w||void 0===w?void 0:w.order_amount]}),(0,C.jsxs)("p",{children:["Discount Amount: ",null===w||void 0===w?void 0:w.discount_amount]}),(0,C.jsxs)("p",{children:["Tax Amount: ",null===w||void 0===w?void 0:w.tax_amount]}),(0,C.jsxs)("p",{children:["Billing Amount: ",null===w||void 0===w?void 0:w.billing_amount]})]})})}),(0,C.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(s.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,C.jsxs)(o.A,{style:{flex:1},children:[(0,C.jsx)(r.A,{variant:"h4",style:{fontWeight:"bold",marginBottom:"0.75rem"},sx:{marginBottom:"0.5rem"},children:"Basic Info"}),(0,C.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,C.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(h.A,{label:"payment_status",value:(0,A.u)(null===i||void 0===i?void 0:i.payment_status)||"Not Set",disabled:!0})}),(0,C.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(h.A,{label:"createdAt",value:null!==i&&void 0!==i&&i.createdAt?new Date(i.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"Not Set",disabled:!0})}),(0,C.jsx)(l.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(h.A,{label:"payment_method",value:(0,A.u)(null===i||void 0===i?void 0:i.payment_method)||"Not Set",disabled:!0})})]}),(0,C.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",margin:"1rem 0px"},children:(0,C.jsx)(f.A,{src:null!==i&&void 0!==i&&i.payment_details?v.A.base_url+(null===i||void 0===i?void 0:i.payment_details):"",alt:"User Profile",height:"145px",width:"145px"})})]})})}),(0,C.jsx)(l.Ay,{item:!0,xs:12,children:(0,C.jsxs)(a.A,{sx:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[(0,C.jsx)(d.A,{variant:"contained",sx:{color:_.palette.common.white,width:"max-content",backgroundColor:_.palette.success.main,"&:hover":{backgroundColor:_.palette.success.main}},onClick:async()=>{try{S((0,m.vL)());const e=await y.A.get(v.A.Bills.DOWNLOAD_BILL+I,{responseType:"text"}),t=document.createElement("div");t.innerHTML=e.data;const i={margin:.1,filename:"bill.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};g()().from(t).set(i).save(),S((0,m.xv)())}catch(i){var e,t;console.log(i),(0,p.f1)(null===i||void 0===i||null===(e=i.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message),S((0,m.xv)())}},children:"Download Pdf"}),null!==i&&void 0!==i&&i.order_id?(0,C.jsx)(d.A,{variant:"contained",sx:{color:_.palette.common.white,width:"max-content",backgroundColor:_.palette.secondary.main,"&:hover":{backgroundColor:_.palette.secondary.main}},onClick:()=>B("/orders/edit/".concat(null===i||void 0===i?void 0:i.order_id)),children:"View Order"}):""]})})]})}},7863:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(6213),l=i(1944),s=i(790),o=i(8402);const r=n.A.create({baseURL:l.A.base_url,timeout:1e4,headers:{Accept:"application/json, application/octet-stream"},withCredentials:!1});let a=!1,d=[];r.interceptors.request.use((e=>{const t=localStorage.getItem(s.o.localStorageKeys.token);return t&&(e.headers.Authorization="Bearer ".concat(t),e.withCredentials=!0),e}),(e=>Promise.reject(e))),r.interceptors.response.use((e=>e),(e=>{const{config:t,response:i}=e,n=t;if("Token has expired"===i.data.message){if(!a){a=!0;const t=localStorage.getItem(s.o.localStorageKeys.refresh_token);return r.post(l.A.refresh_token_url,{refreshToken:t}).then((e=>{var t;let{data:i}=e;const l=null===i||void 0===i||null===(t=i.payload)||void 0===t?void 0:t.accessToken;var o;return localStorage.setItem(s.o.localStorageKeys.token,l),a=!1,o=l,d.forEach((e=>e(o))),d=[],n.headers.Authorization="Bearer ".concat(l),r(n)})).catch((t=>(console.error("Failed to refresh token:",t),(0,o.sw)(),window.location.href=l.A.login_path,Promise.reject(e))))}return new Promise((e=>{var t;t=t=>{n.headers.Authorization="Bearer ".concat(t),e(r(n))},d.push(t)}))}return"Token is invalid"===i.data.message&&((0,o.sw)(),window.location.href=l.A.login_path),Promise.reject(e)}));const c=r},4356:(e,t,i)=>{i.d(t,{f1:()=>o,uT:()=>s});var n=i(1036);i(2342);const l={position:"top-center",closeButton:!1,progress:!1},s=e=>{n.oR.success(e,l)},o=e=>{n.oR.error(e,l)}}}]);
//# sourceMappingURL=9946.cc6ff50d.chunk.js.map