"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[18],{18:(e,l,n)=>{n.r(l),n.d(l,{default:()=>b});var o=n(5043),t=n(8990),a=n(8903),i=n(2110),s=n(6494),d=n(5865),r=n(1906),u=n(8548),c=n(5186),v=n(3003),g=n(8716),m=n(8402),x=n(1935),h=n(4356),p=n(3216),y=n(7863),A=n(1944),f=n(9618),j=n(6240),C=n(2526),w=n(2023),_=n(579);const b=function(){var e,l,n,b;const[L,k]=(0,o.useState)({}),[S,D]=(0,o.useState)({}),E=(0,j.A)(),T=(0,p.Zp)(),U=(0,v.wA)(),[B,I]=(0,o.useState)(""),[N,O]=(0,o.useState)([]),R=(e,l)=>{const n=e.split(".");k((e=>{let o={...e},t=o;for(let l=0;l<n.length-1;l++)t[n[l]]=t[n[l]]||{},t=t[n[l]];return t[n[n.length-1]]=l,o})),D((e=>{let l={...e},o=l;for(let t=0;t<n.length-1;t++)o[n[t]]=o[n[t]]||{},o=o[n[t]];return delete o[n[n.length-1]],l}))};return(0,o.useEffect)((()=>{(async()=>{try{var e;U((0,x.vL)());const d=await y.A.get(A.A.Languages.GET_LIST);var l,n,o,t,a,i,s;null!==(e=d.data)&&void 0!==e&&e.payload&&(O(null===(l=d.data)||void 0===l||null===(n=l.payload)||void 0===n||null===(o=n.result)||void 0===o?void 0:o.data),I(null===(t=d.data)||void 0===t||null===(a=t.payload)||void 0===a||null===(i=a.result)||void 0===i||null===(s=i.data[0])||void 0===s?void 0:s.lang_code)),U((0,x.xv)())}catch(p){var d,r,u,c,v,g;console.log(p),null!==p&&void 0!==p&&null!==(d=p.response)&&void 0!==d&&null!==(r=d.data)&&void 0!==r&&r.errors&&D((0,m.tr)(null===p||void 0===p||null===(v=p.response)||void 0===v||null===(g=v.data)||void 0===g?void 0:g.errors)),(0,h.f1)(null===p||void 0===p||null===(u=p.response)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.message),U((0,x.xv)())}})()}),[]),(0,_.jsxs)(a.Ay,{container:!0,spacing:2,alignItems:"stretch",style:{display:"flex",justifyContent:"end"},children:[(0,_.jsx)(a.Ay,{item:!0,xs:12,sx:{paddingTop:{xs:"0.5rem !important",sx:"0.5rem !important",md:"0px !important"}},children:(0,_.jsx)(w.A,{})}),(0,_.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,_.jsx)(i.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,_.jsxs)(s.A,{style:{flex:1},children:[(0,_.jsx)(d.A,{variant:"h4",style:{fontWeight:"bold",marginBottom:"0.75rem"},children:"Category Details"}),(0,_.jsxs)(a.Ay,{container:!0,spacing:2,children:[(0,_.jsx)(a.Ay,{item:!0,xs:12,sm:12,sx:{display:"flex",justifyContent:"center"},children:(0,_.jsx)(C.A,{src:(null===L||void 0===L||null===(e=L.logo)||void 0===e?void 0:e.length)>0?URL.createObjectURL(L.logo[0]):"",alt:"Brand Logo",height:"145px",width:"145px"})}),(0,_.jsx)(a.Ay,{item:!0,xs:12,md:6,lg:6,sm:12,children:(0,_.jsx)(u.A,{inputName:"logo*",handleChange:(e,l)=>R("logo",l),error:null===S||void 0===S||null===(l=S.logo)||void 0===l?void 0:l.message})}),(0,_.jsx)(a.Ay,{item:!0,xs:12,md:6,lg:6,sm:12,children:(0,_.jsx)(f.A,{name:"language",startEdit:!0,seperatedLabel:!1,defaultValue:B,options:(0,m.Pc)(N,"lang_name","lang_code"),handleChange:(e,l)=>I(l)})}),(0,_.jsx)(a.Ay,{item:!0,xs:12,md:6,lg:6,sm:12,children:(0,_.jsx)(t.A,{name:"category_name*",error:null===S||void 0===S||null===(n=S.category_name)||void 0===n?void 0:n.message,startEdit:!0,handleChange:(e,l)=>R("category_name",l)})}),(0,_.jsx)(a.Ay,{item:!0,xs:12,md:12,lg:12,sm:12,children:(0,_.jsx)(c.A,{name:"description*",error:null===S||void 0===S||null===(b=S.description)||void 0===b?void 0:b.message,defaultValue:(null===L||void 0===L?void 0:L.description)||"",handleChange:(e,l)=>R("description",l)})})]})]})})}),(0,_.jsx)(a.Ay,{item:!0,xs:12,display:"flex",gap:"1rem",justifyContent:"end",children:(0,_.jsx)(r.A,{fullWidth:!0,variant:"contained",onClick:async()=>{try{var e;if(!await(0,g.i6)(g.Ue,L,D))return;const l=new FormData;let n={},o={...L};null!==L&&void 0!==L&&L.logo&&(n.logo=L.logo,delete o.logo),(0,m.b1)(l,n),U((0,x.vL)());const t=await y.A.post(A.A.Categories.ADD,l,{params:{lang_code:B||"en",payload:JSON.stringify(o)}});(0,h.uT)(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.message),U((0,x.xv)()),T("/category")}catch(s){var l,n,o,t,a,i;if(console.log(s),null!==s&&void 0!==s&&null!==(l=s.response)&&void 0!==l&&null!==(n=l.data)&&void 0!==n&&n.errors)D((0,m.tr)(null===s||void 0===s||null===(a=s.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.errors));(0,h.f1)(null===s||void 0===s||null===(o=s.response)||void 0===o||null===(t=o.data)||void 0===t?void 0:t.message),U((0,x.xv)())}},sx:{color:E.palette.common.white,width:"max-content",backgroundColor:E.palette.success.main,"&:hover":{backgroundColor:E.palette.success.main}},children:"Add Category"})})]})}}}]);
//# sourceMappingURL=18.ba445962.chunk.js.map