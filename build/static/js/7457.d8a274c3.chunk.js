"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[7457],{2023:(e,t,n)=>{n.d(t,{A:()=>a});n(5043);var i=n(6240),l=n(7392),s=n(9120),o=n(579);const a=function(){const e=(0,i.A)();return(0,o.jsx)("div",{style:{display:"flex",justifyContent:"start"},children:(0,o.jsxs)(l.A,{variant:"contained",sx:{color:e.palette.common.white,width:"max-content",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.main}},onClick:()=>window.history.back(),children:[(0,o.jsx)(s.A,{})," "]})})}},3903:(e,t,n)=>{n.d(t,{A:()=>l});n(5043);var i=n(579);const l=function(e){let{label:t,value:n,...l}=e;return(0,i.jsxs)("div",{...l,children:[(0,i.jsx)("div",{style:{padding:"0.5rem 0px",color:"#083344",borderRadius:"5px",border:"none"},children:(s=t,s.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "))}),(0,i.jsx)("div",{style:{padding:"0.5rem 1rem",backgroundColor:"#f4f6f8",borderRadius:"5px",border:"none"},children:n||"Not Set"})]});var s}},2526:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(5043),l=n(184),s=n(6720),o=n(7392),a=n(7121),r=n(6240),d=n(579);const c=e=>{let{src:t,alt:n,height:c="auto",width:u="auto",radius:x="10px",isDeletable:v=!1,deletePath:h="",deleteImage:p=e=>{}}=e;const m=(0,r.A)(),[y,f]=(0,i.useState)(!1),g=()=>{f(!y)};return(0,d.jsx)("div",{children:t?(0,d.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,d.jsx)("img",{style:{cursor:"pointer",borderRadius:x},src:t,alt:n,onClick:g,height:c,width:u}),(0,d.jsxs)("div",{style:{position:"absolute",height:"-webkit-fill-available",width:"100%",top:"0px",display:"flex",gap:"10px",justifyContent:"end",alignItems:"start"},children:[(0,d.jsx)(o.A,{size:"small",onClick:g,style:{color:m.palette.warning.main},children:(0,d.jsx)(l.Ny1,{})}),v&&(0,d.jsx)(o.A,{size:"small",className:"delete",onClick:()=>p(h),style:{color:m.palette.error.main},children:(0,d.jsx)(s.b6i,{})})]}),(0,d.jsx)("div",{style:{display:y?"flex":"none",position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:g,children:(0,d.jsx)("img",{src:t,alt:n,style:{maxWidth:"90%",maxHeight:"90%",borderRadius:"10px"}})})]}):(0,d.jsx)(a.A,{animation:"wave",variant:"rounded",style:{height:c,width:u,marginBottom:"0.4rem"}})})}},9841:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var i=n(5043),l=n(3216),s=n(8903),o=n(2110),a=n(6494),r=n(5865),d=n(6446),c=n(1906),u=n(3903),x=n(3003),v=n(7863),h=n(1944),p=n(1935),m=n(4356),y=n(6240),f=n(2023),g=n(74),j=n.n(g),A=n(8402),b=n(2526),C=n(579);const _=function(){var e;const{id:t}=(0,l.g)(),n=(0,y.A)(),[g,_]=(0,i.useState)({}),w=(0,x.wA)(),[k,I]=(0,i.useState)({}),[S,D]=(0,i.useState)([]),T=async()=>{try{var e;w((0,p.vL)());const a=await v.A.get(h.A.PurchseOrders.GET_BY_ID+t);var n,i,l,s,o;if(null!==(e=a.data)&&void 0!==e&&e.payload)_(null===(n=a.data)||void 0===n||null===(i=n.payload)||void 0===i?void 0:i.result),(async e=>{try{var t;w((0,p.vL)());const l=await v.A.get(h.A.Vendors.GET_BY_ID+e);var n,i;null!==(t=l.data)&&void 0!==t&&t.payload&&I(null===(n=l.data)||void 0===n||null===(i=n.payload)||void 0===i?void 0:i.result),w((0,p.xv)())}catch(o){var l,s;(0,m.f1)(null===o||void 0===o||null===(l=o.response)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.message),w((0,p.xv)())}})(null===(l=a.data)||void 0===l||null===(s=l.payload)||void 0===s||null===(o=s.result)||void 0===o?void 0:o.vendor_id);w((0,p.xv)())}catch(d){var a,r;console.log(d),(0,m.f1)(null===d||void 0===d||null===(a=d.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message),w((0,p.xv)())}};return(0,i.useEffect)((()=>{(async()=>{try{var e;const l=new URLSearchParams({pagination:!1}).toString();w((0,p.vL)());const s=await v.A.get(h.A.Products.GET_LIST+"?".concat(l));var t,n,i;null!==(e=s.data)&&void 0!==e&&e.payload&&D(null===(t=s.data)||void 0===t||null===(n=t.payload)||void 0===n||null===(i=n.result)||void 0===i?void 0:i.data),w((0,p.xv)())}catch(o){var l,s;console.log(o),(0,m.f1)(null===o||void 0===o||null===(l=o.response)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.message),w((0,p.xv)())}})(),T()}),[t]),(0,C.jsxs)(s.Ay,{container:!0,spacing:2,alignItems:"stretch",justifyContent:"end",children:[(0,C.jsx)(s.Ay,{item:!0,xs:12,sx:{paddingTop:{xs:"0.5rem !important",sx:"0.5rem !important",md:"0px !important"}},children:(0,C.jsx)(f.A,{})}),(0,C.jsx)(s.Ay,{item:!0,xs:12,children:(0,C.jsx)(o.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,C.jsx)(a.A,{style:{flex:1},children:(0,C.jsxs)(r.A,{variant:"h4",style:{fontWeight:"bold"},children:["Invoice No : ",null===g||void 0===g?void 0:g.invoice_no]})})})}),(0,C.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(o.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,C.jsxs)(a.A,{style:{flex:1},children:[(0,C.jsx)(r.A,{variant:"h4",style:{fontWeight:"bold",marginBottom:"0.75rem"},sx:{marginBottom:"0.5rem"},children:"Seller Details"}),(0,C.jsxs)("p",{children:["Name: ",null===k||void 0===k?void 0:k.name]}),(0,C.jsxs)("p",{children:["Address: ",(e=>{if(!e)return"";const{address_line:t,city:n,state:i,pincode:l}=e,s=[];return t&&s.push(t),n&&s.push(n),i&&s.push(i),l&&s.push(l),s.length>0?s.join(", "):""})(null===k||void 0===k?void 0:k.address)]}),(0,C.jsxs)("p",{children:["Email: ",null===k||void 0===k?void 0:k.email]}),(0,C.jsxs)("p",{children:["Phone: ",null===k||void 0===k?void 0:k.contact_number]}),(0,C.jsxs)("p",{children:["GST No.: ",null===k||void 0===k?void 0:k.gst_number]})]})})}),(0,C.jsxs)(s.Ay,{item:!0,xs:12,children:[(0,C.jsx)("div",{style:{width:"100%"},children:(0,C.jsxs)("div",{style:{fontWeight:"bold",color:n.palette.text.primary,display:"flex",justifyContent:"space-between",padding:"15px",backgroundColor:n.palette.background.paper,borderRadius:"10px",boxShadow:n.shadows[1]},children:[(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Item Name"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Product Code"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Man. Date"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Exe. Date"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Quantity"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Rate"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"GST Rate"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"GST Amount"}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Discount"})]})}),(null===g||void 0===g||null===(e=g.products)||void 0===e?void 0:e.length)>0?null===g||void 0===g?void 0:g.products.map(((e,t)=>{var i,l;return(0,C.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"15px",marginTop:"1rem",backgroundColor:n.palette.background.paper,borderRadius:"10px",boxShadow:n.shadows[1]},children:[(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:null===(i=S.find((t=>t._id===e.product_id)))||void 0===i?void 0:i.product_name}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:null===(l=S.find((t=>t._id===e.product_id)))||void 0===l?void 0:l.product_code}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,A.Yq)(new Date(null===e||void 0===e?void 0:e.manufacture_date))}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,A.Yq)(new Date(null===e||void 0===e?void 0:e.expiry_date))}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.quantity}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.purchase_price}),(0,C.jsxs)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:[e.gst_rate,"%"]}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.gst_amount}),(0,C.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.offer_discount})]},t)})):(0,C.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"15px",marginTop:"1rem",backgroundColor:n.palette.background.paper,borderRadius:"10px",boxShadow:n.shadows[1]},children:"No Products Added"})]}),(0,C.jsx)(s.Ay,{item:!0,xs:12,children:(0,C.jsx)(o.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,C.jsxs)(a.A,{style:{flex:1,textAlign:"right"},children:[(0,C.jsx)(r.A,{variant:"h4",style:{fontWeight:"bold",marginBottom:"0.75rem"},sx:{marginBottom:"0.5rem"},children:"Amount Details"}),(0,C.jsxs)("p",{children:["Advance Payment: ",null===g||void 0===g?void 0:g.advance_payment_amount]}),(0,C.jsxs)("p",{children:["Order Amount: ",null===g||void 0===g?void 0:g.order_amount]}),(0,C.jsxs)("p",{children:["Discount Amount: ",null===g||void 0===g?void 0:g.discount_amount]}),(0,C.jsxs)("p",{children:["Tax Amount: ",null===g||void 0===g?void 0:g.tax_amount]}),(0,C.jsxs)("p",{children:["Billing Amount: ",null===g||void 0===g?void 0:g.billing_amount]}),(0,C.jsxs)("p",{children:["Final Amount: ",(null===g||void 0===g?void 0:g.billing_amount)-(null===g||void 0===g?void 0:g.advance_payment_amount)]})]})})}),(0,C.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(o.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,C.jsxs)(a.A,{style:{flex:1},children:[(0,C.jsx)(r.A,{variant:"h4",style:{fontWeight:"bold",marginBottom:"0.75rem"},sx:{marginBottom:"0.5rem"},children:"Basic Info"}),(0,C.jsxs)(s.Ay,{container:!0,spacing:2,children:[(0,C.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(u.A,{label:"payment_status",value:(0,A.u)(null===g||void 0===g?void 0:g.payment_status)||"Not Set",disabled:!0})}),(0,C.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(u.A,{label:"status",value:(0,A.u)(null===g||void 0===g?void 0:g.status)||"Not Set",disabled:!0})})]}),(0,C.jsx)(d.A,{sx:{display:"flex",justifyContent:"center",margin:"1rem 0px"},children:(0,C.jsx)(b.A,{src:null!==g&&void 0!==g&&g.purchase_invoice?h.A.base_url+(null===g||void 0===g?void 0:g.purchase_invoice):"",alt:"User Profile",height:"145px",width:"145px"})})]})})}),(0,C.jsx)(s.Ay,{item:!0,xs:12,children:(0,C.jsx)(d.A,{sx:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:(0,C.jsx)(c.A,{variant:"contained",sx:{color:n.palette.common.white,width:"max-content",backgroundColor:n.palette.success.main,"&:hover":{backgroundColor:n.palette.success.main}},onClick:async()=>{try{w((0,p.vL)());const e=await v.A.get(h.A.PurchseOrders.DOWNLOAD_BILL+t,{responseType:"text"}),n=document.createElement("div");n.innerHTML=e.data;const i={margin:.1,filename:"purchaseInvoice.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};j()().from(n).set(i).save(),w((0,p.xv)())}catch(i){var e,n;console.log(i),(0,m.f1)(null===i||void 0===i||null===(e=i.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message),w((0,p.xv)())}},children:"Download Pdf"})})})]})}},7863:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(6213),l=n(1944),s=n(790),o=n(8402);const a=i.A.create({baseURL:l.A.base_url,timeout:1e4,headers:{Accept:"application/json, application/octet-stream"},withCredentials:!1});let r=!1,d=[];a.interceptors.request.use((e=>{const t=localStorage.getItem(s.o.localStorageKeys.token);return t&&(e.headers.Authorization="Bearer ".concat(t),e.withCredentials=!0),e}),(e=>Promise.reject(e))),a.interceptors.response.use((e=>e),(e=>{const{config:t,response:n}=e,i=t;if("Token has expired"===n.data.message){if(!r){r=!0;const t=localStorage.getItem(s.o.localStorageKeys.refresh_token);return a.post(l.A.refresh_token_url,{refreshToken:t}).then((e=>{var t;let{data:n}=e;const l=null===n||void 0===n||null===(t=n.payload)||void 0===t?void 0:t.accessToken;var o;return localStorage.setItem(s.o.localStorageKeys.token,l),r=!1,o=l,d.forEach((e=>e(o))),d=[],i.headers.Authorization="Bearer ".concat(l),a(i)})).catch((t=>(console.error("Failed to refresh token:",t),(0,o.sw)(),window.location.href=l.A.login_path,Promise.reject(e))))}return new Promise((e=>{var t;t=t=>{i.headers.Authorization="Bearer ".concat(t),e(a(i))},d.push(t)}))}return"Token is invalid"===n.data.message&&((0,o.sw)(),window.location.href=l.A.login_path),Promise.reject(e)}));const c=a},4356:(e,t,n)=>{n.d(t,{f1:()=>o,uT:()=>s});var i=n(1036);n(2342);const l={position:"top-center",closeButton:!1,progress:!1},s=e=>{i.oR.success(e,l)},o=e=>{i.oR.error(e,l)}}}]);
//# sourceMappingURL=7457.d8a274c3.chunk.js.map