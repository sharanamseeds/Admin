"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[5495],{2023:(e,t,l)=>{l.d(t,{A:()=>a});l(5043);var i=l(6240),n=l(7392),o=l(9120),s=l(579);const a=function(){const e=(0,i.A)();return(0,s.jsx)("div",{style:{display:"flex",justifyContent:"start"},children:(0,s.jsxs)(n.A,{variant:"contained",sx:{color:e.palette.common.white,width:"max-content",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.main}},onClick:()=>window.history.back(),children:[(0,s.jsx)(o.A,{})," "]})})}},3903:(e,t,l)=>{l.d(t,{A:()=>n});l(5043);var i=l(579);const n=function(e){let{label:t,value:l,...n}=e;return(0,i.jsxs)("div",{...n,children:[(0,i.jsx)("div",{style:{padding:"0.5rem 0px",color:"#083344",borderRadius:"5px",border:"none"},children:(o=t,o.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "))}),(0,i.jsx)("div",{style:{padding:"0.5rem 1rem",backgroundColor:"#f4f6f8",borderRadius:"5px",border:"none"},children:l||"Not Set"})]});var o}},2526:(e,t,l)=>{l.d(t,{A:()=>c});var i=l(5043),n=l(184),o=l(6720),s=l(7392),a=l(7121),d=l(6240),r=l(579);const c=e=>{let{src:t,alt:l,height:c="auto",width:u="auto",radius:v="10px",isDeletable:x=!1,deletePath:p="",deleteImage:h=e=>{}}=e;const m=(0,d.A)(),[y,f]=(0,i.useState)(!1),g=()=>{f(!y)};return(0,r.jsx)("div",{children:t?(0,r.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,r.jsx)("img",{style:{cursor:"pointer",borderRadius:v},src:t,alt:l,onClick:g,height:c,width:u}),(0,r.jsxs)("div",{style:{position:"absolute",height:"-webkit-fill-available",width:"100%",top:"0px",display:"flex",gap:"10px",justifyContent:"end",alignItems:"start"},children:[(0,r.jsx)(s.A,{size:"small",onClick:g,style:{color:m.palette.warning.main},children:(0,r.jsx)(n.Ny1,{})}),x&&(0,r.jsx)(s.A,{size:"small",className:"delete",onClick:()=>h(p),style:{color:m.palette.error.main},children:(0,r.jsx)(o.b6i,{})})]}),(0,r.jsx)("div",{style:{display:y?"flex":"none",position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:g,children:(0,r.jsx)("img",{src:t,alt:l,style:{maxWidth:"90%",maxHeight:"90%",borderRadius:"10px"}})})]}):(0,r.jsx)(a.A,{animation:"wave",variant:"rounded",style:{height:c,width:u,marginBottom:"0.4rem"}})})}},5427:(e,t,l)=>{l.r(t),l.d(t,{default:()=>g});var i=l(5043),n=l(3216),o=l(8903),s=l(2110),a=l(6494),d=l(5865),r=l(3903),c=l(3003),u=l(7863),v=l(1944),x=l(1935),p=l(4356),h=l(6240),m=l(2023),y=l(2526),f=l(579);const g=function(){var e;const{id:t}=(0,n.g)(),l=(0,h.A)(),[g,j]=(0,i.useState)({}),A=(0,c.wA)(),[b,w]=(0,i.useState)({}),[_,C]=(0,i.useState)([]),[k,I]=(0,i.useState)([]),S=async()=>{try{var e;A((0,x.vL)());const c=await u.A.get(v.A.Orders.GET_BY_ID+t);var l,i,n,o,s,a,d,r;if(null!==(e=c.data)&&void 0!==e&&e.payload)if(j(null===(l=c.data)||void 0===l||null===(i=l.payload)||void 0===i?void 0:i.result),null!==(n=c.data)&&void 0!==n&&null!==(o=n.payload)&&void 0!==o&&null!==(s=o.result)&&void 0!==s&&s.user_id)(async e=>{try{var t;A((0,x.vL)());const n=await u.A.get(v.A.Users.GET_BY_ID+e);var l,i;null!==(t=n.data)&&void 0!==t&&t.payload&&w(null===(l=n.data)||void 0===l||null===(i=l.payload)||void 0===i?void 0:i.result),A((0,x.xv)())}catch(s){var n,o;console.log(s),(0,p.f1)(null===s||void 0===s||null===(n=s.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message),A((0,x.xv)())}})(null===(a=c.data)||void 0===a||null===(d=a.payload)||void 0===d||null===(r=d.result)||void 0===r?void 0:r.user_id);A((0,x.xv)())}catch(m){var c,h;console.log(m),(0,p.f1)(null===m||void 0===m||null===(c=m.response)||void 0===c||null===(h=c.data)||void 0===h?void 0:h.message),A((0,x.xv)())}};return(0,i.useEffect)((()=>{(async()=>{try{var e;const n=new URLSearchParams({pagination:!1,in_stock:!0,is_active:!0,is_verified:!0}).toString();A((0,x.vL)());const o=await u.A.get(v.A.Products.GET_LIST+"?".concat(n));var t,l,i;null!==(e=o.data)&&void 0!==e&&e.payload&&C(null===(t=o.data)||void 0===t||null===(l=t.payload)||void 0===l||null===(i=l.result)||void 0===i?void 0:i.data),A((0,x.xv)())}catch(s){var n,o;console.log(s),(0,p.f1)(null===s||void 0===s||null===(n=s.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message),A((0,x.xv)())}})(),(async()=>{try{var e;A((0,x.vL)());const n=await u.A.get(v.A.Offers.GET_LIST+"?pagination=false");var t,l,i;null!==(e=n.data)&&void 0!==e&&e.payload&&I(null===(t=n.data)||void 0===t||null===(l=t.payload)||void 0===l||null===(i=l.result)||void 0===i?void 0:i.data),A((0,x.xv)())}catch(s){var n,o;console.log(s),(0,p.f1)(null===s||void 0===s||null===(n=s.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message),A((0,x.xv)())}})(),S()}),[t]),(0,f.jsxs)(o.Ay,{container:!0,spacing:2,alignItems:"stretch",children:[(0,f.jsx)(o.Ay,{item:!0,xs:12,sx:{paddingTop:{xs:"0.5rem !important",sx:"0.5rem !important",md:"0px !important"}},children:(0,f.jsx)(m.A,{})}),(0,f.jsx)(o.Ay,{item:!0,xs:12,children:(0,f.jsx)(s.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,f.jsxs)(a.A,{style:{flex:1},children:[(0,f.jsx)(d.A,{variant:"h4",style:{fontWeight:"bold"},sx:{marginBottom:"0.5rem"},children:"Order Details"}),(0,f.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,f.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,f.jsx)(r.A,{label:"user",value:null===b||void 0===b?void 0:b.name})}),(0,f.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,f.jsx)(r.A,{label:"Status",value:null===g||void 0===g?void 0:g.status})}),(0,f.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,f.jsx)(r.A,{label:"Bill Id",value:null===g||void 0===g?void 0:g.bill_id})}),(0,f.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,f.jsx)(r.A,{label:"Order Amount",value:null===g||void 0===g?void 0:g.order_amount})}),(0,f.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,f.jsx)(r.A,{label:"Discount Amount",value:null===g||void 0===g?void 0:g.discount_amount})}),(0,f.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,f.jsx)(r.A,{label:"Billing Amount",value:null===g||void 0===g?void 0:g.billing_amount})}),(0,f.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,f.jsx)(r.A,{label:"Creditable",value:null!==g&&void 0!==g&&g.is_creditable?"Yes":"No"})}),(0,f.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,f.jsx)(r.A,{label:"Credit Days",value:null===g||void 0===g?void 0:g.credit_duration})}),(0,f.jsx)(o.Ay,{item:!0,xs:12,children:(0,f.jsx)(r.A,{label:"Order Notes",value:null===g||void 0===g?void 0:g.order_notes})}),(0,f.jsx)(o.Ay,{item:!0,xs:12,children:(0,f.jsx)(r.A,{label:"Reason",value:null===g||void 0===g?void 0:g.reason})}),(0,f.jsxs)(o.Ay,{item:!0,xs:12,style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,f.jsx)("p",{style:{marginTop:"0px"},children:"Document"}),(0,f.jsx)("div",{children:(0,f.jsx)(y.A,{src:null!==g&&void 0!==g&&g.document?v.A.base_url+(null===g||void 0===g?void 0:g.document):"",alt:"document",height:"102px",width:"102px"})})]})]})]})})}),(0,f.jsxs)(o.Ay,{item:!0,xs:12,children:[(0,f.jsx)("div",{style:{width:"100%"},children:(0,f.jsxs)("div",{style:{fontWeight:"bold",color:l.palette.text.primary,display:"flex",justifyContent:"space-between",padding:"15px",backgroundColor:l.palette.background.paper,borderRadius:"10px",boxShadow:l.shadows[1]},children:[(0,f.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Product Name"}),(0,f.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Quantity"}),(0,f.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Total Amount"}),(0,f.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Offer Code"}),(0,f.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Offer Discount"}),(0,f.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Gst Rate"})]})}),(null===g||void 0===g||null===(e=g.products)||void 0===e?void 0:e.length)>0?null===g||void 0===g?void 0:g.products.map(((e,t)=>{var i,n;return(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"15px",marginTop:"1rem",backgroundColor:l.palette.background.paper,borderRadius:"10px",boxShadow:l.shadows[1]},children:[(0,f.jsx)("div",{style:{flex:1,display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:null===(i=_.find((t=>t._id===e.product_id)))||void 0===i?void 0:i.product_name}),(0,f.jsx)("div",{style:{flex:1,display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:e.quantity}),(0,f.jsx)("div",{style:{flex:1,display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:null===e||void 0===e?void 0:e.total_amount}),(0,f.jsx)("div",{style:{flex:1,display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:null!==e&&void 0!==e&&e.offer_id?null===(n=k.find((t=>(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.offer_id))))||void 0===n?void 0:n.offer_code:"No Offer"}),(0,f.jsx)("div",{style:{flex:1,display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:e.offer_discount}),(0,f.jsxs)("div",{style:{flex:1,display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:[e.gst_rate,"%"]})]},t)})):(0,f.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"15px",marginTop:"1rem",backgroundColor:l.palette.background.paper,borderRadius:"10px",boxShadow:l.shadows[1]},children:"No Products Added"})]})]})}},7863:(e,t,l)=>{l.d(t,{A:()=>c});var i=l(6213),n=l(1944),o=l(790),s=l(8402);const a=i.A.create({baseURL:n.A.base_url,timeout:1e4,headers:{Accept:"application/json, application/octet-stream"},withCredentials:!1});let d=!1,r=[];a.interceptors.request.use((e=>{const t=localStorage.getItem(o.o.localStorageKeys.token);return t&&(e.headers.Authorization="Bearer ".concat(t),e.withCredentials=!0),e}),(e=>Promise.reject(e))),a.interceptors.response.use((e=>e),(e=>{const{config:t,response:l}=e,i=t;if("Token has expired"===l.data.message){if(!d){d=!0;const t=localStorage.getItem(o.o.localStorageKeys.refresh_token);return a.post(n.A.refresh_token_url,{refreshToken:t}).then((e=>{var t;let{data:l}=e;const n=null===l||void 0===l||null===(t=l.payload)||void 0===t?void 0:t.accessToken;var s;return localStorage.setItem(o.o.localStorageKeys.token,n),d=!1,s=n,r.forEach((e=>e(s))),r=[],i.headers.Authorization="Bearer ".concat(n),a(i)})).catch((t=>(console.error("Failed to refresh token:",t),(0,s.sw)(),window.location.href=n.A.login_path,Promise.reject(e))))}return new Promise((e=>{var t;t=t=>{i.headers.Authorization="Bearer ".concat(t),e(a(i))},r.push(t)}))}return"Token is invalid"===l.data.message&&((0,s.sw)(),window.location.href=n.A.login_path),Promise.reject(e)}));const c=a},4356:(e,t,l)=>{l.d(t,{f1:()=>s,uT:()=>o});var i=l(1036);l(2342);const n={position:"top-center",closeButton:!1,progress:!1},o=e=>{i.oR.success(e,n)},s=e=>{i.oR.error(e,n)}},9120:(e,t,l)=>{var i=l(4994);t.A=void 0;var n=i(l(39)),o=l(579);t.A=(0,n.default)((0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")}}]);
//# sourceMappingURL=5495.263b7477.chunk.js.map