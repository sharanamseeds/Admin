"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[3815],{4150:(e,l,a)=>{a.d(l,{A:()=>d});var t=a(5043),n=a(7392),o=a(3321),r=a(2143),s=a(8734),i=a(579);const d=e=>{let{icon:l,onSelect:a,name:d,options:c,value:u=""}=e;const[v,p]=t.useState(null),g=()=>{p(null)},m=e=>!1===u&&!1===e||(e===u||(null===e||void 0===e?void 0:e.toString())===(null===u||void 0===u?void 0:u.toString()));return(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)(n.A,{onClick:e=>{p(e.currentTarget)},children:l}),(0,i.jsx)(o.A,{anchorEl:v,open:Boolean(v),onClose:g,children:null===c||void 0===c?void 0:c.map(((e,l)=>(0,i.jsx)(r.A,{onClick:()=>{return l=e.value,g(),void a(d,l);var l},selected:m(e.value),children:(0,i.jsx)(s.A,{primary:e.label,style:{fontWeight:m(e.value)?"bold":"normal"}})},l)))})]})}},7439:(e,l,a)=>{a.d(l,{A:()=>c});var t=a(8903),n=(a(5043),a(6240)),o=a(6446),r=a(2559),s=a(1906),i=a(4324),d=a(579);const c=function(e){let{searchText:l="Search",title:a="Table",addText:c,handleSearch:u=e=>{},handleAdd:v=()=>{},isClear:p=!1,onClear:g=()=>{}}=e;const m=(0,n.A)();return(0,d.jsxs)(t.Ay,{container:!0,sx:{gap:{xs:"1rem",sx:"1rem",md:"0px",lg:"0px"}},children:[(0,d.jsx)(t.Ay,{item:!0,xs:12,md:3,lg:3,sm:12,sx:{padding:"0px !important",display:"flex",alignItems:"center"},children:(0,d.jsx)("h2",{style:{color:m.palette.common.black,margin:"0px"},children:a})}),(0,d.jsx)(t.Ay,{item:!0,xs:12,md:9,lg:9,sm:12,sx:{padding:"0px !important"},children:(0,d.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"end"},children:[(0,d.jsxs)(o.A,{sx:{position:"relative",padding:c?"0px":"0.5rem",background:"white",borderRadius:"5px",display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,d.jsx)(o.A,{sx:{p:{sm:m.spacing(.75,1.25),xs:m.spacing(1.25)},position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:m.palette.common.black,height:"100%"},children:(0,d.jsx)(i.A,{})}),(0,d.jsx)(r.Ay,{placeholder:l,sx:{marginLeft:"2.3rem","& .MuiInputBase-root":{color:m.palette.common.black,mr:3,display:"flex",alignItems:"center"},"& .MuiInputBase-input":{p:m.spacing(1,1,1,0),pl:"calc(1em + ".concat(m.spacing(4),")"),transition:m.transitions.create("width"),color:m.palette.common.black,width:{sm:"100%",md:45},mr:{md:3},"&:focus":{width:{md:225}}}},inputProps:{"aria-label":"search"},onChange:e=>u(e.target.value)})]}),c?(0,d.jsx)("div",{children:(0,d.jsx)(s.A,{fullWidth:!0,variant:"contained",onClick:v,style:{backgroundColor:m.palette.success.main,textTransform:"capitalize",color:m.palette.common.white,":hover":{backgroundColor:m.palette.success.dark}},children:c})}):"",p?(0,d.jsx)("div",{children:(0,d.jsx)(s.A,{fullWidth:!0,variant:"contained",onClick:g,style:{backgroundColor:m.palette.warning.main,textTransform:"capitalize",color:m.palette.common.white,":hover":{backgroundColor:m.palette.warning.dark}},children:"Clear Filter"})}):""]})})]})}},6675:(e,l,a)=>{a.r(l),a.d(l,{default:()=>A});var t=a(5043),n=a(6240),o=a(7392),r=a(6720),s=a(3825),i=a(3216),d=a(184),c=a(431),u=a(1935),v=a(7863),p=a(1944),g=a(3003),m=a(4356),x=a(7439),h=a(4150),y=a(91),b=a(1462),f=a(8951),j=a(579);const A=function(e){let{permission:l}=e;const a=(0,i.Zp)(),A=(0,g.wA)(),C=(0,n.A)(),[k,w]=(0,t.useState)(1),[_,S]=(0,t.useState)(5),[I,T]=(0,t.useState)([]),[F,B]=(0,t.useState)(0),[R,L]=(0,t.useState)({sortField:"lang_name",sortBy:"asc"}),P=async e=>{try{var l;let m={...R};delete m.sortBy,delete m.sortField;let j={limit:_,page:k,sortBy:R.sortField,sortOrder:R.sortBy,...m};e&&(j.search=e);const C=new URLSearchParams(j).toString();A((0,u.vL)());const I=await v.A.get("".concat(p.A.Languages.GET_LIST,"?").concat(C));var a,t,n,o,r,s,i,d,c,g,x,h,y,b,f;if(null!==(l=I.data)&&void 0!==l&&l.payload)w(null===(a=I.data)||void 0===a||null===(t=a.payload)||void 0===t||null===(n=t.result)||void 0===n||null===(o=n.meta)||void 0===o?void 0:o.currentPage),S(null===(r=I.data)||void 0===r||null===(s=r.payload)||void 0===s||null===(i=s.result)||void 0===i||null===(d=i.meta)||void 0===d?void 0:d.limit),B(null===(c=I.data)||void 0===c||null===(g=c.payload)||void 0===g||null===(x=g.result)||void 0===x||null===(h=x.meta)||void 0===h?void 0:h.docsFound),T(null===(y=I.data)||void 0===y||null===(b=y.payload)||void 0===b||null===(f=b.result)||void 0===f?void 0:f.data);A((0,u.xv)())}catch(I){var j,C;console.log(I),(0,m.f1)(null===I||void 0===I||null===(j=I.response)||void 0===j||null===(C=j.data)||void 0===C?void 0:C.message),A((0,u.xv)())}},z=((e,l)=>{const a=(0,t.useRef)(null),n=(0,t.useCallback)((function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];a.current&&clearTimeout(a.current),a.current=setTimeout((()=>{e(...n)}),l)}),[e,l]);return n})(P,500),E=(e,l)=>{L("lang_name"===e||"lang_code"===e?{sortBy:l,sortField:e}:{[e]:l})},[M,G]=(0,t.useState)(!1),[K,q]=(0,t.useState)(null);return(0,t.useEffect)((()=>{P()}),[]),(0,t.useEffect)((()=>{P()}),[R,_,k]),(0,j.jsxs)("div",{children:[(0,j.jsx)(f.A,{open:M,onClose:()=>G(!1),message:"Are you sure you want to delete language?",onConfirm:()=>{(async e=>{try{var l;A((0,u.vL)());const a=await v.A.delete(p.A.Languages.DELETE_BY_ID+e);(0,m.uT)(null===a||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message),A((0,u.xv)()),P()}catch(n){var a,t;console.log(n),(0,m.f1)(null===n||void 0===n||null===(a=n.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message),A((0,u.xv)())}})(K)}}),(0,j.jsx)(x.A,{addText:null!==l&&void 0!==l&&l.can_add?"Add Language":null,title:"Languages",searchText:"Search by language name",handleAdd:()=>a("/languages/add"),handleSearch:e=>{z(e)},isClear:!0,onClear:()=>{L({sortField:"lang_name",sortBy:"asc"})}}),(0,j.jsx)("div",{style:{width:"100%",marginTop:"1rem"},children:(0,j.jsxs)("div",{style:{fontWeight:"bold",color:C.palette.text.primary,display:"flex",justifyContent:"space-between",padding:"15px",marginTop:"1rem",backgroundColor:C.palette.background.paper,borderRadius:"10px",boxShadow:C.shadows[1]},children:[(0,j.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Sr. No."}),(0,j.jsxs)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:["Language Name",(0,j.jsx)(h.A,{name:"lang_name",icon:null!==R&&void 0!==R&&R.sortField&&"lang_name"===R.sortField&&"asc"!==R.sortBy?(0,j.jsx)(b.hIM,{color:C.palette.common.black,size:15}):(0,j.jsx)(b.wyk,{color:C.palette.common.black,size:15}),onSelect:E,options:y.I1,value:null!==R&&void 0!==R&&R.sortField&&"lang_name"===R.sortField?R.sortBy:""})]}),(0,j.jsxs)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:["Language Code",(0,j.jsx)(h.A,{name:"lang_code",icon:null!==R&&void 0!==R&&R.sortField&&"lang_code"===R.sortField&&"asc"!==R.sortBy?(0,j.jsx)(b.hIM,{color:C.palette.common.black,size:15}):(0,j.jsx)(b.wyk,{color:C.palette.common.black,size:15}),onSelect:E,options:y.I1,value:null!==R&&void 0!==R&&R.sortField&&"lang_code"===R.sortField?R.sortBy:""})]}),(0,j.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Action"})]})}),I.length>0?I.map(((e,t)=>(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"15px",marginTop:"1rem",backgroundColor:C.palette.background.paper,borderRadius:"10px",boxShadow:C.shadows[1]},children:[(0,j.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:_*(k-1)+t+1}),(0,j.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.lang_name}),(0,j.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.lang_code}),(0,j.jsxs)("div",{style:{flex:1,display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:[null!==l&&void 0!==l&&l.can_read?(0,j.jsx)(o.A,{size:"small",onClick:()=>{return l=e._id,void a("/languages/view/".concat(l));var l},style:{color:C.palette.info.main},children:(0,j.jsx)(d.Ny1,{})}):"",null!==l&&void 0!==l&&l.can_update?(0,j.jsx)(o.A,{size:"small",onClick:()=>{return l=e._id,void a("/languages/edit/".concat(l));var l},style:{color:C.palette.warning.main},children:(0,j.jsx)(s.EaJ,{})}):"",null!==l&&void 0!==l&&l.can_delete?(0,j.jsx)(o.A,{size:"small",onClick:()=>{return l=e._id,q(l),void G(!0);var l},style:{color:C.palette.error.main},children:(0,j.jsx)(r.b6i,{})}):""]})]},t))):(0,j.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"15px",marginTop:"1rem",backgroundColor:C.palette.background.paper,borderRadius:"10px",boxShadow:C.shadows[1]},children:"No Language Found"}),(0,j.jsx)(c.A,{currentPage:k,totalItems:F,itemsPerPage:_,onPageChange:w,onItemsPerPageChange:S})]})}},7863:(e,l,a)=>{a.d(l,{A:()=>c});var t=a(6213),n=a(1944),o=a(790),r=a(8402);const s=t.A.create({baseURL:n.A.base_url,timeout:1e4,headers:{Accept:"application/json, application/octet-stream"},withCredentials:!1});let i=!1,d=[];s.interceptors.request.use((e=>{const l=localStorage.getItem(o.o.localStorageKeys.token);return l&&(e.headers.Authorization="Bearer ".concat(l),e.withCredentials=!0),e}),(e=>Promise.reject(e))),s.interceptors.response.use((e=>e),(e=>{const{config:l,response:a}=e,t=l;if("Token has expired"===a.data.message){if(!i){i=!0;const l=localStorage.getItem(o.o.localStorageKeys.refresh_token);return s.post(n.A.refresh_token_url,{refreshToken:l}).then((e=>{var l;let{data:a}=e;const n=null===a||void 0===a||null===(l=a.payload)||void 0===l?void 0:l.accessToken;var r;return localStorage.setItem(o.o.localStorageKeys.token,n),i=!1,r=n,d.forEach((e=>e(r))),d=[],t.headers.Authorization="Bearer ".concat(n),s(t)})).catch((l=>(console.error("Failed to refresh token:",l),(0,r.sw)(),window.location.href=n.A.login_path,Promise.reject(e))))}return new Promise((e=>{var l;l=l=>{t.headers.Authorization="Bearer ".concat(l),e(s(t))},d.push(l)}))}return"Token is invalid"===a.data.message&&((0,r.sw)(),window.location.href=n.A.login_path),Promise.reject(e)}));const c=s},91:(e,l,a)=>{a.d(l,{$w:()=>m,I1:()=>t,Lw:()=>i,Rr:()=>s,aB:()=>c,bx:()=>n,cK:()=>p,jH:()=>g,qR:()=>u,qi:()=>d,tG:()=>r,wX:()=>v,yl:()=>o});const t=[{label:"Sort A to Z",value:"asc"},{label:"Sort Z to A",value:"desc"}],n=[{label:"Active",value:!0},{label:"Inactive",value:!1}],o=[{label:"Unverified",value:!1},{label:"verified",value:!0}],r=[{label:"App User",value:!0},{label:"Admin",value:!1}],s=[{label:"Newest First",value:"desc"},{label:"Oldest First",value:"asc"}],i=[{label:"Highest First",value:"desc"},{label:"Lowest First",value:"asc"}],d=[{label:"Pending",value:"pending"},{label:"Confirm",value:"confirm"},{label:"Reject",value:"rejected"},{label:"Delivered",value:"delivered"},{label:"Cancelled",value:"cancelled"},{label:"Return Requested",value:"return_requested"},{label:"Return Accepeted",value:"return_accepeted"},{label:"Return Rejected",value:"return_rejected"},{label:"Return Fulfilled",value:"return_fulfilled"}],c=[{label:"Credit",value:"credit"},{label:"Debit",value:"debit"}],u=[{label:"Unpaid",value:"unpaid"},{label:"Paid",value:"paid"}],v=[{label:"Cash",value:"cash"},{label:"Online",value:"online"}],p=[{label:"GM",value:"GM"},{label:"ML",value:"ML"},{label:"KG",value:"KG"},{label:"LTR",value:"LTR"}],g=[{label:"Percentage",value:"percentage"},{label:"Fixed Amount",value:"fixed_amount"},{label:"Tiered",value:"tiered"},{label:"Buy X Get Y",value:"buy_x_get_y"},{label:"Bundle",value:"bundle"},{label:"Referral",value:"referral"},{label:"Coupon",value:"coupon"}],m=[{label:"Percentage",value:"percentage"},{label:"Amount",value:"amount"}]},4356:(e,l,a)=>{a.d(l,{f1:()=>r,uT:()=>o});var t=a(1036);a(2342);const n={position:"top-center",closeButton:!1,progress:!1},o=e=>{t.oR.success(e,n)},r=e=>{t.oR.error(e,n)}}}]);
//# sourceMappingURL=3815.3d3e92a3.chunk.js.map