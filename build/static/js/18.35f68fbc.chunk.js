"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[18],{18:(e,l,t)=>{t.r(l),t.d(l,{default:()=>b});var n=t(5043),a=t(8990),o=t(8903),s=t(2110),i=t(6494),d=t(5865),r=t(1906),c=t(8548),u=t(5186),g=t(3003),m=t(8716),v=t(8402),x=t(1935),h=t(4356),p=t(3216),y=t(7863),A=t(1944),f=t(9618),j=t(6240),C=t(2526),w=t(2023),_=t(579);const b=function(){var e,l,t,b;const[L,k]=(0,n.useState)({}),[S,D]=(0,n.useState)({}),E=(0,j.A)(),T=(0,p.Zp)(),U=(0,g.wA)(),[B,I]=(0,n.useState)(""),[N,O]=(0,n.useState)([]),R=(e,l)=>{const t=e.split(".");k((e=>{let n={...e},a=n;for(let l=0;l<t.length-1;l++)a[t[l]]=a[t[l]]||{},a=a[t[l]];return a[t[t.length-1]]=l,n})),D((e=>{let l={...e},n=l;for(let a=0;a<t.length-1;a++)n[t[a]]=n[t[a]]||{},n=n[t[a]];return delete n[t[t.length-1]],l}))};return(0,n.useEffect)((()=>{(async()=>{try{var e;U((0,x.vL)());const d=await y.A.get(A.A.Languages.GET_LIST);var l,t,n,a,o,s,i;null!==(e=d.data)&&void 0!==e&&e.payload&&(O(null===(l=d.data)||void 0===l||null===(t=l.payload)||void 0===t||null===(n=t.result)||void 0===n?void 0:n.data),I(null===(a=d.data)||void 0===a||null===(o=a.payload)||void 0===o||null===(s=o.result)||void 0===s||null===(i=s.data[0])||void 0===i?void 0:i.lang_code)),U((0,x.xv)())}catch(c){var d,r;console.log(c),(0,h.f1)(null===c||void 0===c||null===(d=c.response)||void 0===d||null===(r=d.data)||void 0===r?void 0:r.message),U((0,x.xv)())}})()}),[]),(0,_.jsxs)(o.Ay,{container:!0,spacing:2,alignItems:"stretch",style:{display:"flex",justifyContent:"end"},children:[(0,_.jsx)(o.Ay,{item:!0,xs:12,sx:{paddingTop:{xs:"0.5rem !important",sx:"0.5rem !important",md:"0px !important"}},children:(0,_.jsx)(w.A,{})}),(0,_.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,_.jsx)(s.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,_.jsxs)(i.A,{style:{flex:1},children:[(0,_.jsx)(d.A,{variant:"h4",style:{fontWeight:"bold",marginBottom:"0.75rem"},children:"Category Details"}),(0,_.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,_.jsx)(o.Ay,{item:!0,xs:12,sm:12,sx:{display:"flex",justifyContent:"center"},children:(0,_.jsx)(C.A,{src:(null===L||void 0===L||null===(e=L.logo)||void 0===e?void 0:e.length)>0?URL.createObjectURL(L.logo[0]):"",alt:"Brand Logo",height:"145px",width:"145px"})}),(0,_.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:6,sm:12,children:(0,_.jsx)(c.A,{inputName:"logo",handleChange:R,error:null===S||void 0===S||null===(l=S.logo)||void 0===l?void 0:l.message})}),(0,_.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:6,sm:12,children:(0,_.jsx)(f.A,{name:"language",startEdit:!0,seperatedLabel:!1,defaultValue:B,options:(0,v.Pc)(N,"lang_name","lang_code"),handleChange:(e,l)=>I(l)})}),(0,_.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:6,sm:12,children:(0,_.jsx)(a.A,{name:"category_name",error:null===S||void 0===S||null===(t=S.category_name)||void 0===t?void 0:t.message,startEdit:!0,handleChange:R})}),(0,_.jsx)(o.Ay,{item:!0,xs:12,md:12,lg:12,sm:12,children:(0,_.jsx)(u.A,{name:"description",error:null===S||void 0===S||null===(b=S.description)||void 0===b?void 0:b.message,defaultValue:(null===L||void 0===L?void 0:L.description)||"",handleChange:R})})]})]})})}),(0,_.jsx)(o.Ay,{item:!0,xs:12,display:"flex",gap:"1rem",justifyContent:"end",children:(0,_.jsx)(r.A,{fullWidth:!0,variant:"contained",onClick:async()=>{try{var e;if(!await(0,m.i6)(m.Ue,L,D))return;const l=new FormData;let t={},n={...L};null!==L&&void 0!==L&&L.logo&&(t.logo=L.logo,delete n.logo),(0,v.b1)(l,t),U((0,x.vL)());const a=await y.A.post(A.A.Categories.ADD,l,{params:{lang_code:B||"en",payload:JSON.stringify(n)}});(0,h.uT)(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.message),U((0,x.xv)()),T("/category")}catch(n){var l,t;console.log(n),(0,h.f1)(null===n||void 0===n||null===(l=n.response)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.message),U((0,x.xv)())}},sx:{color:E.palette.common.white,width:"max-content",backgroundColor:E.palette.success.main,"&:hover":{backgroundColor:E.palette.success.main}},children:"Add Category"})})]})}}}]);
//# sourceMappingURL=18.35f68fbc.chunk.js.map