"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[3889],{5249:(e,t,o)=>{o.r(t),o.d(t,{default:()=>C});var l=o(5043),n=o(3003),a=o(9252),i=o(5146),r=o(7392),d=o(8577),s=o(1962),u=o(1906),c=o(184),p=o(1935),m=o(8716),v=o(4861),g=o(8402),x=o(3216),y=o(7863),h=o(1944),f=o(4356),b=o(790),k=o(6240),j=o(2190),A=o(579);const C=()=>{var e,t;const o=(0,k.A)(),C=(0,n.wA)(),w=(0,x.Zp)(),O=(0,n.d4)((e=>e.loading.isLoading)),[I,M]=(0,l.useState)(!1),[S,_]=(0,l.useState)(!1),[L,W]=(0,l.useState)(!1),[N,T]=(0,l.useState)({}),[D,E]=(0,l.useState)({}),K=(e,t)=>{let o={...D};delete o[e],E(o),T((o=>({...o,[e]:t})))},P=async()=>{try{var e;if(!await(0,m.i6)(m.Z2,N,E))return;C((0,p.vL)());const A=await y.A.post(h.A.Auth.LOGIN,N);var t,o,l,n,a,i,r,d,s,u,c,v,x,k;if(null!==(e=A.data)&&void 0!==e&&e.payload)if((0,f.uT)(null===(t=A.data)||void 0===t?void 0:t.message),null!==(o=A.data)&&void 0!==o&&null!==(l=o.payload)&&void 0!==l&&null!==(n=l.user)&&void 0!==n&&n.is_verified)C((0,j.jb)(null===(a=A.data)||void 0===a||null===(i=a.payload)||void 0===i?void 0:i.accessModules)),(0,g.NC)(null===(r=A.data)||void 0===r||null===(d=r.payload)||void 0===d?void 0:d.accessModules,null===(s=A.data)||void 0===s||null===(u=s.payload)||void 0===u?void 0:u.refresh_token,null===(c=A.data)||void 0===c||null===(v=c.payload)||void 0===v?void 0:v.token,null===(x=A.data)||void 0===x||null===(k=x.payload)||void 0===k?void 0:k.user,S?N:null),S||localStorage.removeItem(b.o.localStorageKeys.login_credentials),w("/");else W(!0);C((0,p.xv)())}catch(I){var A,O;console.log(I),(0,f.f1)(null===I||void 0===I||null===(A=I.response)||void 0===A||null===(O=A.data)||void 0===O?void 0:O.message),C((0,p.xv)())}};return(0,l.useEffect)((()=>{const e=localStorage.getItem(b.o.localStorageKeys.login_credentials);if(e){const t=JSON.parse(e);null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password&&(T((e=>({...t}))),_(!0))}}),[]),L?(0,A.jsxs)(a.A,{maxWidth:"xs",style:{margin:"0rem",padding:"0px",marginTop:"1rem"},children:[(0,A.jsx)("h1",{style:{textAlign:"center"},children:"Welcome to Agroveda!"}),(0,A.jsx)("p",{style:{textAlign:"center"},children:"Your account is currently under review. We will notify you once your account is verified."})]}):(0,A.jsxs)(a.A,{maxWidth:"xs",style:{margin:"0rem",padding:"0px"},children:[(0,A.jsx)(i.A,{fullWidth:!0,className:"defaultText",autoComplete:"false",label:"Email*",margin:"normal",value:N.email,InputProps:{startAdornment:(0,A.jsx)("div",{style:{display:"inline-flex",color:o.palette.common.black,marginRight:"0.5rem"},children:(0,A.jsx)(c.maD,{})})},onChange:e=>K("email",e.target.value),onKeyDown:e=>{"Enter"===e.key&&P()},style:{input:{padding:"0.8rem 0px",color:o.palette.common.black},".MuiOutlinedInput-root, .MuiOutlinedInput-notchedOutline":{borderColor:o.palette.common.black},".MuiInputLabel-root":{color:o.palette.common.black},".MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline, .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:o.palette.common.black}}}),(null===D||void 0===D||null===(e=D.email)||void 0===e?void 0:e.message)&&(0,A.jsx)("div",{style:{textAlign:"left"},children:(0,A.jsx)(v.A,{message:D.email.message})}),(0,A.jsx)(i.A,{fullWidth:!0,className:"defaultText",autoComplete:"false",label:"Password*",type:I?"text":"password",margin:"normal",value:N.password,InputProps:{startAdornment:(0,A.jsx)("div",{style:{display:"inline-flex",color:o.palette.common.black,marginRight:"0.5rem"},children:(0,A.jsx)(c.JhU,{})}),endAdornment:(0,A.jsx)(r.A,{onClick:()=>{M(!I)},size:"small",children:I?(0,A.jsx)(c.mx3,{color:o.palette.common.black}):(0,A.jsx)(c.Ny1,{color:o.palette.common.black})})},onChange:e=>K("password",e.target.value),onKeyDown:e=>{"Enter"===e.key&&P()},style:{input:{padding:"0.8rem 0px",color:o.palette.common.black},".MuiOutlinedInput-root, .MuiOutlinedInput-notchedOutline":{borderColor:o.palette.common.black},".MuiInputLabel-root":{color:o.palette.common.black},".MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline, .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:o.palette.common.black}}}),(null===D||void 0===D||null===(t=D.password)||void 0===t?void 0:t.message)&&(0,A.jsx)("div",{style:{textAlign:"left"},children:(0,A.jsx)(v.A,{message:D.password.message})}),(0,A.jsx)("div",{style:{textAlign:"left"},children:(0,A.jsx)(d.A,{control:(0,A.jsx)(s.A,{checked:S,name:"remember_me",onChange:e=>{_(e.target.checked)}}),label:"Remember Me"})}),(0,A.jsx)(u.A,{fullWidth:!0,variant:"contained",onClick:P,style:{backgroundColor:o.palette.primary,color:o.palette.common.white,marginTop:"0.5rem",":hover":{backgroundColor:o.palette.secondary}},children:O?"Logging in...":"Log in"}),(0,A.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1rem"},children:[(0,A.jsx)(u.A,{type:"text",onClick:()=>w("/authentication/forgot_password"),style:{fontSize:"0.875rem",color:o.palette.primary,padding:"0px",cursor:"pointer",justifyContent:"end",textDecoration:"none",backgroundColor:"transparent",":hover":{color:o.palette.secondary}},children:"Forgotten Your Password?"}),(0,A.jsx)(u.A,{type:"text",onClick:()=>w("/authentication/register"),style:{fontSize:"0.875rem",color:o.palette.primary,padding:"0px",cursor:"pointer",justifyContent:"end",textDecoration:"none",backgroundColor:"transparent",":hover":{color:o.palette.secondary}},children:"Sign up"})]})]})}}}]);
//# sourceMappingURL=3889.8062e069.chunk.js.map