"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[2708],{7863:(e,r,i)=>{i.d(r,{A:()=>d});var o=i(6213),t=i(1944),n=i(790),l=i(8402);const s=o.A.create({baseURL:t.A.base_url,timeout:1e4,headers:{Accept:"application/json, application/octet-stream"},withCredentials:!1});let a=!1,c=[];s.interceptors.request.use((e=>{const r=localStorage.getItem(n.o.localStorageKeys.token);return r&&(e.headers.Authorization="Bearer ".concat(r),e.withCredentials=!0),e}),(e=>Promise.reject(e))),s.interceptors.response.use((e=>e),(e=>{const{config:r,response:i}=e,o=r;if("Token has expired"===i.data.message){if(!a){a=!0;const r=localStorage.getItem(n.o.localStorageKeys.refresh_token);return s.post(t.A.refresh_token_url,{refreshToken:r}).then((e=>{var r;let{data:i}=e;const t=null===i||void 0===i||null===(r=i.payload)||void 0===r?void 0:r.accessToken;var l;return localStorage.setItem(n.o.localStorageKeys.token,t),a=!1,l=t,c.forEach((e=>e(l))),c=[],o.headers.Authorization="Bearer ".concat(t),s(o)})).catch((r=>(console.error("Failed to refresh token:",r),(0,l.sw)(),window.location.href=t.A.login_path,Promise.reject(e))))}return new Promise((e=>{var r;r=r=>{o.headers.Authorization="Bearer ".concat(r),e(s(o))},c.push(r)}))}return"Token is invalid"===i.data.message&&((0,l.sw)(),window.location.href=t.A.login_path),Promise.reject(e)}));const d=s},4356:(e,r,i)=>{i.d(r,{f1:()=>l,uT:()=>n});var o=i(1036);i(2342);const t={position:"top-center",closeButton:!1,progress:!1},n=e=>{o.oR.success(e,t)},l=e=>{o.oR.error(e,t)}},9938:(e,r,i)=>{i.r(r),i.d(r,{default:()=>F});var o=i(5043),t=i(6240),n=i(8903),l=i(2110),s=i(9958),a=i(5865),c=i(9336),d=i(6494),u=i(611),v=i(6446),x=i(2019),h=i(579);const m=e=>{let{bgColor:r,chartData:i,footerData:o,icon:s,title:c,percentage:u}=e;const m=(0,t.A)();let y;return o&&(y=o.map(((e,r)=>(0,h.jsx)(n.Ay,{item:!0,children:(0,h.jsx)(v.A,{mt:3,mb:3,p:1,children:(0,h.jsxs)(n.Ay,{container:!0,direction:"column",spacing:1,alignItems:"center",children:[(0,h.jsx)(a.A,{variant:"h4",children:e.value}),(0,h.jsx)(a.A,{variant:"subtitle2",color:"secondary",children:e.label})]})})},r)))),(0,h.jsx)(l.A,{style:{height:"100%"},children:(0,h.jsxs)(d.A,{sx:{padding:0,paddingBottom:"0 !important",height:"100%"},children:[(0,h.jsx)(v.A,{bgcolor:r||m.palette.primary.main,p:3,children:(0,h.jsxs)(n.Ay,{container:!0,direction:"column",spacing:1,children:[(0,h.jsxs)(n.Ay,{item:!0,container:!0,justifyContent:"space-between",alignItems:"center",children:[c&&(0,h.jsx)(n.Ay,{item:!0,children:(0,h.jsx)(a.A,{variant:"subtitle1",color:"#fff",children:c})}),(0,h.jsx)(n.Ay,{item:!0,children:(0,h.jsxs)(n.Ay,{container:!0,alignItems:"center",children:[s&&(0,h.jsx)(v.A,{component:"span",mr:2,color:"#fff",children:s}),u&&(0,h.jsx)(a.A,{variant:"subtitle1",color:"#fff",children:u})]})})]}),i&&(0,h.jsx)(n.Ay,{item:!0,children:(0,h.jsx)(x.A,{...i})})]})}),o&&(0,h.jsx)(n.Ay,{container:!0,justifyContent:"space-around",alignItems:"center",children:y})]})})},y={type:"line",height:115,options:{chart:{sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#fff"],stroke:{curve:"smooth",width:3},yaxis:{min:20,max:100},tooltip:{theme:"light",fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:()=>"Sales/Order Per Day"}},marker:{show:!1}}},series:[{name:"series1",data:[55,35,75,25,90,50]}]},A=e=>{let{primary:r,secondary:i,iconPrimary:o,color:s,footerData:c,iconFooter:u}=e;const x=(0,t.A)(),m=o,y=o?(0,h.jsx)(m,{fontSize:"large"}):null,A=u,j=u?(0,h.jsx)(A,{}):null;return(0,h.jsxs)(l.A,{children:[(0,h.jsx)(d.A,{children:(0,h.jsxs)(n.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,h.jsxs)(n.Ay,{item:!0,children:[(0,h.jsx)(a.A,{variant:"h3",sx:{color:s},children:r}),(0,h.jsx)(a.A,{variant:"subtitle1",sx:{marginTop:".5rem"},children:i})]}),(0,h.jsx)(n.Ay,{item:!0,children:(0,h.jsx)(a.A,{variant:"h2",sx:{color:s},children:y})})]})}),(0,h.jsx)(v.A,{sx:{background:s},children:(0,h.jsxs)(n.Ay,{container:!0,justifyContent:"space-between",sx:{textAlign:"center",padding:x.spacing(1.2),pl:2.5,pr:2.5,color:x.palette.common.white},children:[(0,h.jsx)(n.Ay,{item:!0,children:(0,h.jsx)(a.A,{variant:"body2",children:c})}),(0,h.jsx)(n.Ay,{item:!0,children:(0,h.jsx)(a.A,{variant:"body2",children:j})})]})})]})};var j=i(7912),p=i(3881),f=i(5716),g=i(8912),b=i(3144),k=i(1319),w=i(4356),C=i(1935),D=i(3003),P=i(7863),T=i(1944),S=i(3216);const F=()=>{var e,r,i,v,x,F,M,O,I,B,U,_,R,L,N,z,E,V,K,q,G,W,Z,$;const H=(0,t.A)(),[J,Q]=(0,o.useState)(),X=(0,D.wA)(),Y=(0,S.Zp)();return(0,o.useEffect)((()=>{(async()=>{try{var e;X((0,C.vL)());const t=await P.A.get(T.A.Dashboard.GET_DATA);var r,i,o;null!==(e=t.data)&&void 0!==e&&e.payload&&Q(null===(r=t.data)||void 0===r||null===(i=r.payload)||void 0===i||null===(o=i.result)||void 0===o?void 0:o.data),X((0,C.xv)())}catch(l){var t,n;console.error("Error fetching user data:",l),(0,w.f1)((null===l||void 0===l||null===(t=l.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to fetch user data"),X((0,C.xv)())}})()}),[]),(0,h.jsxs)(n.Ay,{container:!0,spacing:2,alignItems:"stretch",children:[(0,h.jsx)(n.Ay,{item:!0,xs:12,md:6,children:(0,h.jsxs)(l.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,h.jsx)(s.A,{title:(0,h.jsx)(a.A,{component:"div",className:"card-header",children:"User Status Metrics"})}),(0,h.jsx)(c.A,{}),(0,h.jsx)(d.A,{style:{cursor:"pointer"},onClick:()=>Y("/users"),children:(0,h.jsxs)(n.Ay,{container:!0,spacing:2,children:[(0,h.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,h.jsx)(a.A,{variant:"body2",children:"Active Users"}),(0,h.jsx)(u.A,{variant:"determinate",value:100*(null===J||void 0===J||null===(e=J.user)||void 0===e||null===(r=e.statusMetrics)||void 0===r?void 0:r.activeRatio)||0,color:"primary"})]}),(0,h.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,h.jsx)(a.A,{variant:"body2",children:"Blocked Users"}),(0,h.jsx)(u.A,{variant:"determinate",value:100*(null===J||void 0===J||null===(i=J.user)||void 0===i||null===(v=i.statusMetrics)||void 0===v?void 0:v.blockedRatio)||0,color:"secondary"})]}),(0,h.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,h.jsx)(a.A,{variant:"body2",children:"Verified Users"}),(0,h.jsx)(u.A,{variant:"determinate",value:100*(null===J||void 0===J||null===(x=J.user)||void 0===x||null===(F=x.statusMetrics)||void 0===F?void 0:F.verifiedRatio)||0,color:"primary"})]}),(0,h.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,h.jsx)(a.A,{variant:"body2",children:"Deactivated Users"}),(0,h.jsx)(u.A,{variant:"determinate",value:100*(null===J||void 0===J||null===(M=J.user)||void 0===M||null===(O=M.statusMetrics)||void 0===O?void 0:O.deactiveRatio)||0,color:"secondary"})]})]})})]})}),(0,h.jsx)(n.Ay,{item:!0,xs:12,md:6,children:(0,h.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,h.jsxs)(n.Ay,{container:!0,spacing:2,children:[(0,h.jsx)(n.Ay,{item:!0,xs:12,md:6,style:{cursor:"pointer"},onClick:()=>Y("/users"),children:(0,h.jsx)(A,{primary:"".concat((null===J||void 0===J||null===(I=J.user)||void 0===I?void 0:I.totalUsers)||0),secondary:"Total Users",color:H.palette.warning.main,footerData:"Count: ".concat((null===J||void 0===J||null===(B=J.user)||void 0===B||null===(U=B.roleWiseUsers)||void 0===U||null===(_=U[0])||void 0===_?void 0:_.count)||0),iconPrimary:g.A,iconFooter:j.A})}),(0,h.jsx)(n.Ay,{item:!0,xs:12,md:6,style:{cursor:"pointer"},onClick:()=>Y("/brands"),children:(0,h.jsx)(A,{primary:"".concat((null===J||void 0===J?void 0:J.brands)||0),secondary:"Total Brands",color:H.palette.primary.main,footerData:"Count: ".concat((null===J||void 0===J?void 0:J.brands)||0),iconPrimary:g.A,iconFooter:j.A})}),(0,h.jsx)(n.Ay,{item:!0,xs:12,md:6,style:{cursor:"pointer"},onClick:()=>Y("/category"),children:(0,h.jsx)(A,{primary:"".concat((null===J||void 0===J?void 0:J.category)||0),secondary:"Total Category",color:H.palette.success.main,footerData:"Count: ".concat((null===J||void 0===J?void 0:J.category)||0),iconPrimary:g.A,iconFooter:j.A})}),(0,h.jsx)(n.Ay,{item:!0,xs:12,md:6,style:{cursor:"pointer"},onClick:()=>Y("/languages"),children:(0,h.jsx)(A,{primary:"".concat((null===J||void 0===J?void 0:J.totalLanguages)||0),secondary:"Total Languages",color:H.palette.info.main,footerData:"All Languages",iconPrimary:f.A,iconFooter:j.A})})]})})}),(0,h.jsx)(n.Ay,{item:!0,xs:12,md:6,children:(0,h.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,h.jsxs)(n.Ay,{container:!0,spacing:2,children:[(0,h.jsx)(n.Ay,{item:!0,xs:12,md:6,style:{cursor:"pointer"},onClick:()=>Y("/bills"),children:(0,h.jsx)(A,{primary:"".concat((null===J||void 0===J||null===(R=J.bill)||void 0===R?void 0:R.totalBills)||0),secondary:"Total Bills",color:H.palette.warning.main,footerData:"View all bills",iconPrimary:f.A,iconFooter:j.A})}),(0,h.jsx)(n.Ay,{item:!0,xs:12,md:6,style:{cursor:"pointer"},onClick:()=>Y("/orders"),children:(0,h.jsx)(A,{primary:"".concat((null===J||void 0===J||null===(L=J.order)||void 0===L?void 0:L.totalOrders)||0),secondary:"Total Orders",color:H.palette.error.main,footerData:"View all orders",iconPrimary:k.A,iconFooter:p.A})}),(0,h.jsx)(n.Ay,{item:!0,xs:12,md:6,style:{cursor:"pointer"},onClick:()=>Y("/products"),children:(0,h.jsx)(A,{primary:"".concat((null===J||void 0===J||null===(N=J.product)||void 0===N?void 0:N.totalProducts)||0),secondary:"Total Products",color:H.palette.primary.main,footerData:"View all products",iconPrimary:b.A,iconFooter:j.A})}),(0,h.jsx)(n.Ay,{item:!0,xs:12,md:6,style:{cursor:"pointer"},onClick:()=>Y("/offers"),children:(0,h.jsx)(A,{primary:"".concat((null===J||void 0===J||null===(z=J.offer)||void 0===z?void 0:z.totalOffers)||0),secondary:"Total Offers",color:H.palette.info.main,footerData:"Active: ".concat((null===J||void 0===J||null===(E=J.offer)||void 0===E?void 0:E.activeOffers)||0,", Inactive: ").concat((null===J||void 0===J||null===(V=J.offer)||void 0===V?void 0:V.inactiveOffers)||0),iconPrimary:f.A,iconFooter:j.A})})]})})}),(0,h.jsx)(n.Ay,{item:!0,xs:12,md:6,children:(0,h.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column",cursor:"pointer"},onClick:()=>Y("/orders"),children:(0,h.jsx)(m,{chartData:y,title:"Sales Per Day",percentage:"3%",icon:(0,h.jsx)(p.A,{}),footerData:[{value:"$".concat((null===J||void 0===J||null===(K=J.order)||void 0===K?void 0:K.averageOrderAmount)||0),label:"Average Order Amount"},{value:"".concat((null===J||void 0===J||null===(q=J.order)||void 0===q?void 0:q.avgOrdersPerDay)||0),label:"Average Orders Per Day"}]})})}),(0,h.jsx)(n.Ay,{item:!0,lg:6,xs:12,children:(0,h.jsxs)(l.A,{style:{cursor:"pointer"},onClick:()=>Y("/bills"),children:[(0,h.jsx)(s.A,{title:(0,h.jsx)(a.A,{component:"div",className:"card-header",children:"Payment Method Metrics"})}),(0,h.jsx)(c.A,{}),(0,h.jsx)(d.A,{children:(0,h.jsx)(n.Ay,{container:!0,spacing:2,children:null===J||void 0===J||null===(G=J.bill)||void 0===G||null===(W=G.paymentMethodMetrics)||void 0===W?void 0:W.map(((e,r)=>(0,h.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,h.jsx)(a.A,{variant:"body2",children:(null===e||void 0===e?void 0:e.method)||"N/A"}),(0,h.jsx)(u.A,{variant:"determinate",value:100*e.ratio||0,color:"primary"})]},r)))})})]})}),(0,h.jsx)(n.Ay,{item:!0,lg:6,xs:12,children:(0,h.jsxs)(l.A,{style:{cursor:"pointer"},onClick:()=>Y("/bills"),children:[(0,h.jsx)(s.A,{title:(0,h.jsx)(a.A,{component:"div",className:"card-header",children:"Payment Status Metrics"})}),(0,h.jsx)(c.A,{}),(0,h.jsx)(d.A,{children:(0,h.jsx)(n.Ay,{container:!0,spacing:2,children:null===J||void 0===J||null===(Z=J.bill)||void 0===Z||null===($=Z.paymentStatusMetrics)||void 0===$?void 0:$.map(((e,r)=>(0,h.jsxs)(n.Ay,{item:!0,xs:12,children:[(0,h.jsx)(a.A,{variant:"body2",children:e.status||"N/A"}),(0,h.jsx)(u.A,{variant:"determinate",value:100*e.ratio||0,color:"secondary"})]},r)))})})]})})]})}}}]);
//# sourceMappingURL=2708.476f7a63.chunk.js.map