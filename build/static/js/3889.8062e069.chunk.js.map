{"version":3,"file":"static/js/3889.8062e069.chunk.js","mappings":"2VAsBA,MAmNA,EAnNcA,KAAO,IAADC,EAAAC,EAClB,MAAMC,GAAQC,EAAAA,EAAAA,KACRC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAYC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,QAAQH,aAChDI,EAAqBC,IAA0BC,EAAAA,EAAAA,WAAS,IACxDC,EAAaC,IAAkBF,EAAAA,EAAAA,WAAS,IACxCG,EAAMC,IAAWJ,EAAAA,EAAAA,WAAS,IAC1BK,EAAUC,IAAeN,EAAAA,EAAAA,UAAS,CAAC,IACnCO,EAAQC,IAAaR,EAAAA,EAAAA,UAAS,CAAC,GAEhCS,EAAqBA,CAACC,EAAMC,KAChC,IAAIC,EAAa,IAAKL,UACfK,EAAWF,GAClBF,EAAUI,GAEVN,GAAaO,IAAQ,IAChBA,EACH,CAACH,GAAOC,KACP,EAGCG,EAAcC,UAClB,IAAK,IAADC,EAEF,UADsBC,EAAAA,EAAAA,IAAeC,EAAAA,GAAab,EAAUG,GAE1D,OAEFlB,GAAS6B,EAAAA,EAAAA,OACT,MAAMC,QAAiBC,EAAAA,EAAcC,KACnCC,EAAAA,EAAmBC,KAAKC,MACxBpB,GAE2B,IAADqB,EAAAC,EAAAC,EAAAC,EAEqBC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAFjD,GAAiB,QAAjBvB,EAAII,EAASoB,YAAI,IAAAxB,GAAbA,EAAeyB,QAEjB,IADAC,EAAAA,EAAAA,IAAgC,QAAdhB,EAACN,EAASoB,YAAI,IAAAd,OAAA,EAAbA,EAAeiB,SACjB,QAAjBhB,EAAIP,EAASoB,YAAI,IAAAb,GAAS,QAATC,EAAbD,EAAec,eAAO,IAAAb,GAAM,QAANC,EAAtBD,EAAwBgB,YAAI,IAAAf,GAA5BA,EAA8BgB,YAChCvD,GAASwD,EAAAA,EAAAA,IAA4B,QAAdhB,EAACV,EAASoB,YAAI,IAAAV,GAAS,QAATC,EAAbD,EAAeW,eAAO,IAAAV,OAAT,EAAbA,EAAwBgB,iBAChDC,EAAAA,EAAAA,IACe,QADFhB,EACXZ,EAASoB,YAAI,IAAAR,GAAS,QAATC,EAAbD,EAAeS,eAAO,IAAAR,OAAT,EAAbA,EAAwBc,cACX,QADwBb,EACrCd,EAASoB,YAAI,IAAAN,GAAS,QAATC,EAAbD,EAAeO,eAAO,IAAAN,OAAT,EAAbA,EAAwBc,cACX,QADwBb,EACrChB,EAASoB,YAAI,IAAAJ,GAAS,QAATC,EAAbD,EAAeK,eAAO,IAAAJ,OAAT,EAAbA,EAAwBa,MACX,QADgBZ,EAC7BlB,EAASoB,YAAI,IAAAF,GAAS,QAATC,EAAbD,EAAeG,eAAO,IAAAF,OAAT,EAAbA,EAAwBK,KACxB3C,EAAcI,EAAW,MAEtBJ,GACHkD,aAAaC,WAAWC,EAAAA,EAAUC,iBAAiBC,mBAErD/D,EAAS,UAETY,GAAQ,GAGZd,GAASkE,EAAAA,EAAAA,MACX,CAAE,MAAOC,GAAQ,IAADC,EAAAC,EACdC,QAAQC,IAAIJ,IACZK,EAAAA,EAAAA,IAAsB,OAALL,QAAK,IAALA,GAAe,QAAVC,EAALD,EAAOrC,gBAAQ,IAAAsC,GAAM,QAANC,EAAfD,EAAiBlB,YAAI,IAAAmB,OAAhB,EAALA,EAAuBhB,SACxCrD,GAASkE,EAAAA,EAAAA,MACX,GAsBF,OAfAO,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAYb,aAAac,QAC7BZ,EAAAA,EAAUC,iBAAiBC,mBAE7B,GAAIS,EAAW,CACb,MAAMxB,EAAO0B,KAAKC,MAAMH,GAChB,OAAJxB,QAAI,IAAJA,GAAAA,EAAM4B,OAAa,OAAJ5B,QAAI,IAAJA,GAAAA,EAAM6B,WACvB/D,GAAaO,IAAQ,IAChB2B,MAELtC,GAAe,GAEnB,IACC,IAGDC,GAAOmE,EAAAA,EAAAA,MAACC,EAAAA,EAAS,CAACC,SAAS,KAAKC,MAAO,CAAEC,OAAQ,OAAQC,QAAS,MAAOC,UAAW,QAASC,SAAA,EAC3FC,EAAAA,EAAAA,KAAA,MAAIL,MAAO,CAAEM,UAAW,UAAWF,SAAC,0BACpCC,EAAAA,EAAAA,KAAA,KAAGL,MAAO,CAAEM,UAAW,UAAWF,SAAC,kGAEnCP,EAAAA,EAAAA,MAACC,EAAAA,EAAS,CACRC,SAAS,KACTC,MAAO,CAAEC,OAAQ,OAAQC,QAAS,OAASE,SAAA,EAE3CC,EAAAA,EAAAA,KAACE,EAAAA,EAAS,CACRC,WAAS,EACTC,UAAU,cACVC,aAAa,QACbC,MAAM,SACNV,OAAO,SACP/D,MAAON,EAAS+D,MAChBiB,WAAY,CACVC,gBACER,EAAAA,EAAAA,KAAA,OAAKL,MAAO,CAAEc,QAAS,cAAeC,MAAOpG,EAAMqG,QAAQC,OAAOC,MAAOC,YAAa,UAAWf,UAC/FC,EAAAA,EAAAA,KAACe,EAAAA,IAAU,OAIjBC,SAAWC,GAAMtF,EAAmB,QAASsF,EAAEC,OAAOrF,OACtDsF,UAAYC,IACQ,UAAdA,EAAMC,KACRrF,GACF,EAEF2D,MAAO,CACL2B,MAAO,CAAEzB,QAAS,aAAca,MAAOpG,EAAMqG,QAAQC,OAAOC,OAC5D,2DAA4D,CAAEU,YAAajH,EAAMqG,QAAQC,OAAOC,OAChG,sBAAuB,CAAEH,MAAOpG,EAAMqG,QAAQC,OAAOC,OACrD,qIAAsI,CAAEU,YAAajH,EAAMqG,QAAQC,OAAOC,WAGvK,OAANpF,QAAM,IAANA,GAAa,QAAPrB,EAANqB,EAAQ6D,aAAK,IAAAlF,OAAP,EAANA,EAAeyD,WACdmC,EAAAA,EAAAA,KAAA,OAAKL,MAAO,CAAEM,UAAW,QAASF,UAChCC,EAAAA,EAAAA,KAACwB,EAAAA,EAAU,CAAC3D,QAASpC,EAAO6D,MAAMzB,aAGtCmC,EAAAA,EAAAA,KAACE,EAAAA,EAAS,CACRC,WAAS,EACTC,UAAU,cACVC,aAAa,QACbC,MAAM,YACNmB,KAAMzG,EAAsB,OAAS,WACrC4E,OAAO,SACP/D,MAAON,EAASgE,SAChBgB,WAAY,CACVC,gBACER,EAAAA,EAAAA,KAAA,OAAKL,MAAO,CAAEc,QAAS,cAAeC,MAAOpG,EAAMqG,QAAQC,OAAOC,MAAOC,YAAa,UAAWf,UAC/FC,EAAAA,EAAAA,KAAC0B,EAAAA,IAAM,MAGXC,cACE3B,EAAAA,EAAAA,KAAC4B,EAAAA,EAAU,CAACC,QA3EUC,KAChC7G,GAAwBD,EAAoB,EA0Ec+G,KAAK,QAAOhC,SACzD/E,GACCgF,EAAAA,EAAAA,KAACgC,EAAAA,IAAU,CAACtB,MAAOpG,EAAMqG,QAAQC,OAAOC,SAExCb,EAAAA,EAAAA,KAACiC,EAAAA,IAAK,CAACvB,MAAOpG,EAAMqG,QAAQC,OAAOC,WAK3CG,SAAWC,GAAMtF,EAAmB,WAAYsF,EAAEC,OAAOrF,OACzDsF,UAAYC,IACQ,UAAdA,EAAMC,KACRrF,GACF,EAEF2D,MAAO,CACL2B,MAAO,CAAEzB,QAAS,aAAca,MAAOpG,EAAMqG,QAAQC,OAAOC,OAC5D,2DAA4D,CAAEU,YAAajH,EAAMqG,QAAQC,OAAOC,OAChG,sBAAuB,CAAEH,MAAOpG,EAAMqG,QAAQC,OAAOC,OACrD,qIAAsI,CAAEU,YAAajH,EAAMqG,QAAQC,OAAOC,WAGvK,OAANpF,QAAM,IAANA,GAAgB,QAAVpB,EAANoB,EAAQ8D,gBAAQ,IAAAlF,OAAV,EAANA,EAAkBwD,WACjBmC,EAAAA,EAAAA,KAAA,OAAKL,MAAO,CAAEM,UAAW,QAASF,UAChCC,EAAAA,EAAAA,KAACwB,EAAAA,EAAU,CAAC3D,QAASpC,EAAO8D,SAAS1B,aAGzCmC,EAAAA,EAAAA,KAAA,OAAKL,MAAO,CAAEM,UAAW,QAASF,UAChCC,EAAAA,EAAAA,KAACkC,EAAAA,EAAgB,CACfC,SAASnC,EAAAA,EAAAA,KAACoC,EAAAA,EAAQ,CAACC,QAASlH,EAAaS,KAAK,cAAcoF,SAAWC,IAAQ7F,EAAe6F,EAAEC,OAAOmB,QAAQ,IAC/G/B,MAAM,mBAGVN,EAAAA,EAAAA,KAACsC,EAAAA,EAAM,CACLnC,WAAS,EACToC,QAAQ,YACRV,QAAS7F,EACT2D,MAAO,CACL6C,gBAAiBlI,EAAMqG,QAAQ8B,QAC/B/B,MAAOpG,EAAMqG,QAAQC,OAAO8B,MAC5B5C,UAAW,SACX,SAAU,CAAE0C,gBAAiBlI,EAAMqG,QAAQgC,YAC3C5C,SAEDnF,EAAY,gBAAkB,YAEjC4E,EAAAA,EAAAA,MAAA,OAAKG,MAAO,CAAEc,QAAS,OAAQmC,eAAgB,gBAAiB9C,UAAW,QAASC,SAAA,EAClFC,EAAAA,EAAAA,KAACsC,EAAAA,EAAM,CAACb,KAAK,OAAOI,QAASA,IAAMnH,EAAS,mCAAoCiF,MAAO,CACrFkD,SAAU,WACVnC,MAAOpG,EAAMqG,QAAQ8B,QACrB5C,QAAS,MACTiD,OAAQ,UACRF,eAAgB,MAChBG,eAAgB,OAChBP,gBAAiB,cACjB,SAAU,CAAE9B,MAAOpG,EAAMqG,QAAQgC,YACjC5C,SAAC,8BAGHC,EAAAA,EAAAA,KAACsC,EAAAA,EAAM,CAACb,KAAK,OAAOI,QAASA,IAAMnH,EAAS,4BAA6BiF,MAAO,CAC9EkD,SAAU,WACVnC,MAAOpG,EAAMqG,QAAQ8B,QACrB5C,QAAS,MACTiD,OAAQ,UACRF,eAAgB,MAChBG,eAAgB,OAChBP,gBAAiB,cACjB,SAAU,CAAE9B,MAAOpG,EAAMqG,QAAQgC,YACjC5C,SAAC,iBAIK,C","sources":["component/pages/Auth/Login.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Container, TextField, Button, IconButton, FormControlLabel, Checkbox } from \"@mui/material\";\r\nimport { FaEnvelope, FaLock, FaEye, FaEyeSlash } from \"react-icons/fa\";\r\nimport { startLoading, stopLoading } from \"../../../redux/slices/loadingSlice\";\r\nimport {\r\n  LoginSchema,\r\n  validateSchema,\r\n} from \"../../../validation/validationSchema\";\r\nimport InputError from \"../../Basic/InputError\";\r\nimport { saveLoginData } from \"../../../helpers\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axiosInstance from \"../../../config/AxiosConfig\";\r\nimport AxiosInstancePaths from \"../../../config/AxiosInstancePaths\";\r\nimport {\r\n  showErrorMessage,\r\n  showSuccessMessage,\r\n} from \"../../../helpers/notificationService\";\r\nimport { AppConfig } from \"../../../config/AppConfig\";\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { setPermissions } from \"../../../redux/slices/permissionSlice\";\r\n\r\nconst Login = () => {\r\n  const theme = useTheme();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const isLoading = useSelector((state) => state.loading.isLoading);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [remember_me, setRemember_me] = useState(false)\r\n  const [wait, setWait] = useState(false)\r\n  const [formData, setFormData] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const handleSelectChange = (name, value) => {\r\n    let tempErrors = { ...errors };\r\n    delete tempErrors[name];\r\n    setErrors(tempErrors);\r\n\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const isValid = await validateSchema(LoginSchema, formData, setErrors);\r\n      if (!isValid) {\r\n        return;\r\n      }\r\n      dispatch(startLoading());\r\n      const response = await axiosInstance.post(\r\n        AxiosInstancePaths.Auth.LOGIN,\r\n        formData\r\n      );\r\n      if (response.data?.payload) {\r\n        showSuccessMessage(response.data?.message);\r\n        if (response.data?.payload?.user?.is_verified) {\r\n          dispatch(setPermissions(response.data?.payload?.accessModules))\r\n          saveLoginData(\r\n            response.data?.payload?.accessModules,\r\n            response.data?.payload?.refresh_token,\r\n            response.data?.payload?.token,\r\n            response.data?.payload?.user,\r\n            remember_me ? formData : null\r\n          );\r\n          if (!remember_me) {\r\n            localStorage.removeItem(AppConfig.localStorageKeys.login_credentials)\r\n          }\r\n          navigate(\"/\");\r\n        } else {\r\n          setWait(true)\r\n        };\r\n      }\r\n      dispatch(stopLoading());\r\n    } catch (error) {\r\n      console.log(error);\r\n      showErrorMessage(error?.response?.data?.message);\r\n      dispatch(stopLoading());\r\n    }\r\n  };\r\n\r\n  const toggleShowConfirmPassword = () => {\r\n    setShowConfirmPassword(!showConfirmPassword);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const savedData = localStorage.getItem(\r\n      AppConfig.localStorageKeys.login_credentials\r\n    );\r\n    if (savedData) {\r\n      const data = JSON.parse(savedData);\r\n      if (data?.email && data?.password) {\r\n        setFormData((prevData) => ({\r\n          ...data,\r\n        }));\r\n        setRemember_me(true)\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    wait ? <Container maxWidth=\"xs\" style={{ margin: '0rem', padding: \"0px\", marginTop: '1rem' }}>\r\n      <h1 style={{ textAlign: 'center' }}>Welcome to Agroveda!</h1>\r\n      <p style={{ textAlign: 'center' }}>Your account is currently under review. We will notify you once your account is verified.</p>\r\n    </Container> :\r\n      <Container\r\n        maxWidth=\"xs\"\r\n        style={{ margin: '0rem', padding: \"0px\", }}\r\n      >\r\n        <TextField\r\n          fullWidth\r\n          className=\"defaultText\"\r\n          autoComplete=\"false\"\r\n          label=\"Email*\"\r\n          margin=\"normal\"\r\n          value={formData.email}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <div style={{ display: 'inline-flex', color: theme.palette.common.black, marginRight: '0.5rem' }}>\r\n                <FaEnvelope />\r\n              </div>\r\n            ),\r\n          }}\r\n          onChange={(e) => handleSelectChange(\"email\", e.target.value)}\r\n          onKeyDown={(event) => {\r\n            if (event.key === 'Enter') {\r\n              handleLogin()\r\n            }\r\n          }}\r\n          style={{\r\n            input: { padding: '0.8rem 0px', color: theme.palette.common.black },\r\n            '.MuiOutlinedInput-root, .MuiOutlinedInput-notchedOutline': { borderColor: theme.palette.common.black },\r\n            '.MuiInputLabel-root': { color: theme.palette.common.black },\r\n            '.MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline, .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline': { borderColor: theme.palette.common.black },\r\n          }}\r\n        />\r\n        {errors?.email?.message && (\r\n          <div style={{ textAlign: 'left' }}>\r\n            <InputError message={errors.email.message} />\r\n          </div>\r\n        )}\r\n        <TextField\r\n          fullWidth\r\n          className=\"defaultText\"\r\n          autoComplete=\"false\"\r\n          label=\"Password*\"\r\n          type={showConfirmPassword ? \"text\" : \"password\"}\r\n          margin=\"normal\"\r\n          value={formData.password}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <div style={{ display: 'inline-flex', color: theme.palette.common.black, marginRight: '0.5rem' }}>\r\n                <FaLock />\r\n              </div>\r\n            ),\r\n            endAdornment: (\r\n              <IconButton onClick={toggleShowConfirmPassword} size=\"small\">\r\n                {showConfirmPassword ? (\r\n                  <FaEyeSlash color={theme.palette.common.black} />\r\n                ) : (\r\n                  <FaEye color={theme.palette.common.black} />\r\n                )}\r\n              </IconButton>\r\n            ),\r\n          }}\r\n          onChange={(e) => handleSelectChange(\"password\", e.target.value)}\r\n          onKeyDown={(event) => {\r\n            if (event.key === 'Enter') {\r\n              handleLogin()\r\n            }\r\n          }}\r\n          style={{\r\n            input: { padding: '0.8rem 0px', color: theme.palette.common.black },\r\n            '.MuiOutlinedInput-root, .MuiOutlinedInput-notchedOutline': { borderColor: theme.palette.common.black },\r\n            '.MuiInputLabel-root': { color: theme.palette.common.black, },\r\n            '.MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline, .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline': { borderColor: theme.palette.common.black },\r\n          }}\r\n        />\r\n        {errors?.password?.message && (\r\n          <div style={{ textAlign: 'left' }}>\r\n            <InputError message={errors.password.message} />\r\n          </div>\r\n        )}\r\n        <div style={{ textAlign: \"left\" }}>\r\n          <FormControlLabel\r\n            control={<Checkbox checked={remember_me} name=\"remember_me\" onChange={(e) => { setRemember_me(e.target.checked) }} />}\r\n            label=\"Remember Me\"\r\n          />\r\n        </div>\r\n        <Button\r\n          fullWidth\r\n          variant=\"contained\"\r\n          onClick={handleLogin}\r\n          style={{\r\n            backgroundColor: theme.palette.primary,\r\n            color: theme.palette.common.white,\r\n            marginTop: '0.5rem',\r\n            ':hover': { backgroundColor: theme.palette.secondary },\r\n          }}\r\n        >\r\n          {isLoading ? \"Logging in...\" : \"Log in\"}\r\n        </Button>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '1rem' }}>\r\n          <Button type=\"text\" onClick={() => navigate(\"/authentication/forgot_password\")} style={{\r\n            fontSize: \"0.875rem\",\r\n            color: theme.palette.primary,\r\n            padding: \"0px\",\r\n            cursor: \"pointer\",\r\n            justifyContent: 'end',\r\n            textDecoration: \"none\",\r\n            backgroundColor: 'transparent',\r\n            ':hover': { color: theme.palette.secondary },\r\n          }}>\r\n            Forgotten Your Password?\r\n          </Button>\r\n          <Button type=\"text\" onClick={() => navigate(\"/authentication/register\")} style={{\r\n            fontSize: \"0.875rem\",\r\n            color: theme.palette.primary,\r\n            padding: \"0px\",\r\n            cursor: \"pointer\",\r\n            justifyContent: 'end',\r\n            textDecoration: \"none\",\r\n            backgroundColor: 'transparent',\r\n            ':hover': { color: theme.palette.secondary },\r\n          }}>\r\n            Sign up\r\n          </Button>\r\n        </div>\r\n      </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["Login","_errors$email","_errors$password","theme","useTheme","dispatch","useDispatch","navigate","useNavigate","isLoading","useSelector","state","loading","showConfirmPassword","setShowConfirmPassword","useState","remember_me","setRemember_me","wait","setWait","formData","setFormData","errors","setErrors","handleSelectChange","name","value","tempErrors","prevData","handleLogin","async","_response$data","validateSchema","LoginSchema","startLoading","response","axiosInstance","post","AxiosInstancePaths","Auth","LOGIN","_response$data2","_response$data3","_response$data3$paylo","_response$data3$paylo2","_response$data4","_response$data4$paylo","_response$data5","_response$data5$paylo","_response$data6","_response$data6$paylo","_response$data7","_response$data7$paylo","_response$data8","_response$data8$paylo","data","payload","showSuccessMessage","message","user","is_verified","setPermissions","accessModules","saveLoginData","refresh_token","token","localStorage","removeItem","AppConfig","localStorageKeys","login_credentials","stopLoading","error","_error$response","_error$response$data","console","log","showErrorMessage","useEffect","savedData","getItem","JSON","parse","email","password","_jsxs","Container","maxWidth","style","margin","padding","marginTop","children","_jsx","textAlign","TextField","fullWidth","className","autoComplete","label","InputProps","startAdornment","display","color","palette","common","black","marginRight","FaEnvelope","onChange","e","target","onKeyDown","event","key","input","borderColor","InputError","type","FaLock","endAdornment","IconButton","onClick","toggleShowConfirmPassword","size","FaEyeSlash","FaEye","FormControlLabel","control","Checkbox","checked","Button","variant","backgroundColor","primary","white","secondary","justifyContent","fontSize","cursor","textDecoration"],"sourceRoot":""}