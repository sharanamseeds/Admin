"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[5495],{3903:(e,t,l)=>{l.d(t,{A:()=>n});l(5043);var o=l(579);const n=function(e){let{label:t,value:l,...n}=e;return(0,o.jsxs)("div",{...n,children:[(0,o.jsx)("div",{style:{padding:"0.5rem 0px",color:"#083344",borderRadius:"5px",border:"none"},children:(a=t,a.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "))}),(0,o.jsx)("div",{style:{padding:"0.5rem 1rem",backgroundColor:"#f4f6f8",borderRadius:"5px",border:"none"},children:l||"Not Set"})]});var a}},5427:(e,t,l)=>{l.r(t),l.d(t,{default:()=>g});var o=l(5043),n=l(3216),a=l(8903),i=l(2110),r=l(6494),s=l(5865),d=l(6446),c=l(1906),u=l(3903),v=l(3003),x=l(7863),p=l(1944),f=l(1935),m=l(4356),y=l(6240),h=l(579);const g=function(){var e;const{id:t}=(0,n.g)(),l=(0,y.A)(),[g,A]=(0,o.useState)({}),j=(0,v.wA)(),[b,C]=(0,o.useState)({}),[_,w]=(0,o.useState)([]),[k,I]=(0,o.useState)([]),S=(0,n.Zp)(),R=async()=>{try{var e;j((0,f.vL)());const c=await x.A.get(p.A.Orders.GET_BY_ID+t);var l,o,n,a,i,r,s,d;if(null!==(e=c.data)&&void 0!==e&&e.payload)if(A(null===(l=c.data)||void 0===l||null===(o=l.payload)||void 0===o?void 0:o.result),null!==(n=c.data)&&void 0!==n&&null!==(a=n.payload)&&void 0!==a&&null!==(i=a.result)&&void 0!==i&&i.user_id)(async e=>{try{var t;j((0,f.vL)());const n=await x.A.get(p.A.Users.GET_BY_ID+e);var l,o;null!==(t=n.data)&&void 0!==t&&t.payload&&C(null===(l=n.data)||void 0===l||null===(o=l.payload)||void 0===o?void 0:o.result),j((0,f.xv)())}catch(i){var n,a;console.log(i),(0,m.f1)(null===i||void 0===i||null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message),j((0,f.xv)())}})(null===(r=c.data)||void 0===r||null===(s=r.payload)||void 0===s||null===(d=s.result)||void 0===d?void 0:d.user_id);j((0,f.xv)())}catch(v){var c,u;console.log(v),(0,m.f1)(null===v||void 0===v||null===(c=v.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message),j((0,f.xv)())}};return(0,o.useEffect)((()=>{(async()=>{try{var e;const n=new URLSearchParams({pagination:!1,in_stock:!0,is_active:!0,is_verified:!0}).toString();j((0,f.vL)());const a=await x.A.get(p.A.Products.GET_LIST+"?".concat(n));var t,l,o;null!==(e=a.data)&&void 0!==e&&e.payload&&w(null===(t=a.data)||void 0===t||null===(l=t.payload)||void 0===l||null===(o=l.result)||void 0===o?void 0:o.data),j((0,f.xv)())}catch(i){var n,a;console.log(i),(0,m.f1)(null===i||void 0===i||null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message),j((0,f.xv)())}})(),(async()=>{try{var e;j((0,f.vL)());const n=await x.A.get(p.A.Offers.GET_LIST+"?pagination=false");var t,l,o;null!==(e=n.data)&&void 0!==e&&e.payload&&I(null===(t=n.data)||void 0===t||null===(l=t.payload)||void 0===l||null===(o=l.result)||void 0===o?void 0:o.data),j((0,f.xv)())}catch(i){var n,a;console.log(i),(0,m.f1)(null===i||void 0===i||null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message),j((0,f.xv)())}})(),R()}),[t]),(0,h.jsxs)(a.Ay,{container:!0,spacing:2,alignItems:"stretch",children:[(0,h.jsx)(a.Ay,{item:!0,xs:12,children:(0,h.jsx)(i.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,h.jsxs)(r.A,{style:{flex:1},children:[(0,h.jsx)(s.A,{variant:"h4",style:{fontWeight:"bold"},sx:{marginBottom:"0.5rem"},children:"Order Details"}),(0,h.jsxs)(a.Ay,{container:!0,spacing:2,children:[(0,h.jsx)(a.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,h.jsx)(u.A,{label:"user",value:null===b||void 0===b?void 0:b.name})}),(0,h.jsx)(a.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,h.jsx)(u.A,{label:"Status",value:null===g||void 0===g?void 0:g.status})}),(0,h.jsx)(a.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,h.jsx)(u.A,{label:"Bill Id",value:null===g||void 0===g?void 0:g.bill_id})}),(0,h.jsx)(a.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,h.jsx)(u.A,{label:"Order Amount",value:null===g||void 0===g?void 0:g.order_amount})}),(0,h.jsx)(a.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,h.jsx)(u.A,{label:"Discount Amount",value:null===g||void 0===g?void 0:g.discount_amount})}),(0,h.jsx)(a.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,h.jsx)(u.A,{label:"Billing Amount",value:null===g||void 0===g?void 0:g.billing_amount})}),(0,h.jsx)(a.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,h.jsx)(u.A,{label:"Creditable",value:null!==g&&void 0!==g&&g.is_creditable?"Yes":"No"})}),(0,h.jsx)(a.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,h.jsx)(u.A,{label:"Credit Days",value:null===g||void 0===g?void 0:g.credit_duration})}),(0,h.jsx)(a.Ay,{item:!0,xs:12,children:(0,h.jsx)(u.A,{label:"Order Notes",value:null===g||void 0===g?void 0:g.order_notes})}),(0,h.jsx)(a.Ay,{item:!0,xs:12,children:(0,h.jsx)(u.A,{label:"Reason",value:null===g||void 0===g?void 0:g.reason})})]})]})})}),(0,h.jsxs)(a.Ay,{item:!0,xs:12,children:[(0,h.jsx)("div",{style:{width:"100%"},children:(0,h.jsxs)("div",{style:{fontWeight:"bold",color:l.palette.text.primary,display:"flex",justifyContent:"space-between",padding:"15px",backgroundColor:l.palette.background.paper,borderRadius:"10px",boxShadow:l.shadows[1]},children:[(0,h.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Product Name"}),(0,h.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Quantity"}),(0,h.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Total Amount"}),(0,h.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Offer Code"}),(0,h.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Offer Discount"}),(0,h.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:"Gst Rate"})]})}),(null===g||void 0===g||null===(e=g.products)||void 0===e?void 0:e.length)>0?null===g||void 0===g?void 0:g.products.map(((e,t)=>{var o,n;return(0,h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"15px",marginTop:"1rem",backgroundColor:l.palette.background.paper,borderRadius:"10px",boxShadow:l.shadows[1]},children:[(0,h.jsx)("div",{style:{flex:1,display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:null===(o=_.find((t=>t._id===e.product_id)))||void 0===o?void 0:o.product_name}),(0,h.jsx)("div",{style:{flex:1,display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:e.quantity}),(0,h.jsx)("div",{style:{flex:1,display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:null===e||void 0===e?void 0:e.total_amount}),(0,h.jsx)("div",{style:{flex:1,display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:null!==e&&void 0!==e&&e.offer_id?null===(n=k.find((t=>(null===t||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.offer_id))))||void 0===n?void 0:n.offer_code:"No Offer"}),(0,h.jsx)("div",{style:{flex:1,display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:e.offer_discount}),(0,h.jsxs)("div",{style:{flex:1,display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:[e.gst_rate,"%"]})]},t)})):(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"15px",marginTop:"1rem",backgroundColor:l.palette.background.paper,borderRadius:"10px",boxShadow:l.shadows[1]},children:"No Products Added"})]}),(0,h.jsx)(a.Ay,{item:!0,xs:12,children:(0,h.jsx)(d.A,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,h.jsx)(c.A,{variant:"contained",sx:{color:l.palette.common.white,width:"max-content",backgroundColor:l.palette.warning.main,"&:hover":{backgroundColor:l.palette.warning.main}},onClick:()=>S("/orders"),children:"Back"})})})]})}},7863:(e,t,l)=>{l.d(t,{A:()=>c});var o=l(6213),n=l(1944),a=l(790),i=l(8402);const r=o.A.create({baseURL:n.A.base_url,timeout:1e4,headers:{Accept:"application/json, application/octet-stream"},withCredentials:!1});let s=!1,d=[];r.interceptors.request.use((e=>{const t=localStorage.getItem(a.o.localStorageKeys.token);return t&&(e.headers.Authorization="Bearer ".concat(t),e.withCredentials=!0),e}),(e=>Promise.reject(e))),r.interceptors.response.use((e=>e),(e=>{const{config:t,response:l}=e,o=t;if("Token has expired"===l.data.message){if(!s){s=!0;const t=localStorage.getItem(a.o.localStorageKeys.refresh_token);return r.post(n.A.refresh_token_url,{refreshToken:t}).then((e=>{var t;let{data:l}=e;const n=null===l||void 0===l||null===(t=l.payload)||void 0===t?void 0:t.accessToken;var i;return localStorage.setItem(a.o.localStorageKeys.token,n),s=!1,i=n,d.forEach((e=>e(i))),d=[],o.headers.Authorization="Bearer ".concat(n),r(o)})).catch((t=>(console.error("Failed to refresh token:",t),(0,i.sw)(),window.location.href=n.A.login_path,Promise.reject(e))))}return new Promise((e=>{var t;t=t=>{o.headers.Authorization="Bearer ".concat(t),e(r(o))},d.push(t)}))}return"Token is invalid"===l.data.message&&((0,i.sw)(),window.location.href=n.A.login_path),Promise.reject(e)}));const c=r},4356:(e,t,l)=>{l.d(t,{f1:()=>i,uT:()=>a});var o=l(1036);l(2342);const n={position:"top-center",closeButton:!1,progress:!1},a=e=>{o.oR.success(e,n)},i=e=>{o.oR.error(e,n)}},6494:(e,t,l)=>{l.d(t,{A:()=>m});var o=l(8168),n=l(8587),a=l(5043),i=l(8387),r=l(8610),s=l(4535),d=l(8206),c=l(2532),u=l(2372);function v(e){return(0,u.Ay)("MuiCardContent",e)}(0,c.A)("MuiCardContent",["root"]);var x=l(579);const p=["className","component"],f=(0,s.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),m=a.forwardRef((function(e,t){const l=(0,d.b)({props:e,name:"MuiCardContent"}),{className:a,component:s="div"}=l,c=(0,n.A)(l,p),u=(0,o.A)({},l,{component:s}),m=(e=>{const{classes:t}=e;return(0,r.A)({root:["root"]},v,t)})(u);return(0,x.jsx)(f,(0,o.A)({as:s,className:(0,i.A)(m.root,a),ownerState:u,ref:t},c))}))},2110:(e,t,l)=>{l.d(t,{A:()=>y});var o=l(8168),n=l(8587),a=l(5043),i=l(8387),r=l(8610),s=l(4535),d=l(8206),c=l(3336),u=l(2532),v=l(2372);function x(e){return(0,v.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var p=l(579);const f=["className","raised"],m=(0,s.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),y=a.forwardRef((function(e,t){const l=(0,d.b)({props:e,name:"MuiCard"}),{className:a,raised:s=!1}=l,c=(0,n.A)(l,f),u=(0,o.A)({},l,{raised:s}),v=(e=>{const{classes:t}=e;return(0,r.A)({root:["root"]},x,t)})(u);return(0,p.jsx)(m,(0,o.A)({className:(0,i.A)(v.root,a),elevation:s?8:void 0,ref:t,ownerState:u},c))}))}}]);
//# sourceMappingURL=5495.14f9d568.chunk.js.map