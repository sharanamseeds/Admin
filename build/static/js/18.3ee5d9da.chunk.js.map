{"version":3,"file":"static/js/18.3ee5d9da.chunk.js","mappings":"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","sources":["component/pages/Products/Category/AddCategory.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport TextInput from \"../../../Form/TextInput\";\r\nimport { Button, Card, CardContent, Grid, Typography } from \"@mui/material\";\r\nimport FileUpload from \"../../../Form/FileUpload\";\r\nimport Editor from \"../../../Form/Editor\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { CategorySchema, validateSchema } from \"../../../../validation/validationSchema\";\r\nimport { createGeneralOptions, objectToFormData } from \"../../../../helpers\";\r\nimport { startLoading, stopLoading } from \"../../../../redux/slices/loadingSlice\";\r\nimport { showErrorMessage, showSuccessMessage } from \"../../../../helpers/notificationService\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axiosInstance from \"../../../../config/AxiosConfig\";\r\nimport AxiosInstancePaths from \"../../../../config/AxiosInstancePaths\";\r\nimport SelectInput from \"../../../Form/SelectInput\";\r\nimport { useTheme } from \"@mui/material\";\r\nimport ImageWithPreview from \"../../../Basic/ImagePreview\";\r\nimport BackNavigate from \"../../../Basic/BackNavigate\";\r\n\r\n\r\nfunction AddCategory() {\r\n  const [formData, setFormData] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const theme = useTheme();\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch();\r\n  const [langCode, setLangCode] = useState(\"\")\r\n  const [languages, setLanguages] = useState([]);\r\n\r\n  const handleSelectChange = (name, value) => {\r\n    const keys = name.split(\".\");\r\n    setFormData((prevData) => {\r\n      let newData = { ...prevData };\r\n      let current = newData;\r\n      for (let i = 0; i < keys.length - 1; i++) {\r\n        current[keys[i]] = current[keys[i]] || {};\r\n        current = current[keys[i]];\r\n      }\r\n      current[keys[keys.length - 1]] = value;\r\n      return newData;\r\n    });\r\n\r\n    setErrors((prevErrors) => {\r\n      let newErrors = { ...prevErrors };\r\n      let current = newErrors;\r\n      for (let i = 0; i < keys.length - 1; i++) {\r\n        current[keys[i]] = current[keys[i]] || {};\r\n        current = current[keys[i]];\r\n      }\r\n      delete current[keys[keys.length - 1]];\r\n      return newErrors;\r\n    });\r\n  };\r\n\r\n  const addCategory = async () => {\r\n    try {\r\n      const isValid = await validateSchema(CategorySchema, formData, setErrors);\r\n      if (!isValid) {\r\n        return;\r\n      }\r\n\r\n      const newFormData = new FormData();\r\n      let documents = {}\r\n      let tempFormData = { ...formData };\r\n      if (formData?.logo) {\r\n        documents.logo = formData.logo\r\n        delete tempFormData.logo\r\n      }\r\n\r\n      objectToFormData(newFormData, documents);\r\n      dispatch(startLoading());\r\n      const response = await axiosInstance.post(\r\n        AxiosInstancePaths.Categories.ADD,\r\n        newFormData, {\r\n        params: {\r\n          lang_code: langCode || 'en',\r\n          payload: JSON.stringify(tempFormData)\r\n        },\r\n      }\r\n      );\r\n\r\n      showSuccessMessage(response?.data?.message);\r\n      dispatch(stopLoading());\r\n      navigate('/category')\r\n    } catch (error) {\r\n      console.log(error);\r\n      showErrorMessage(error?.response?.data?.message);\r\n      dispatch(stopLoading());\r\n    }\r\n  };\r\n  const fetchLanguageData = async () => {\r\n    try {\r\n      dispatch(startLoading());\r\n      const response = await axiosInstance.get(\r\n        AxiosInstancePaths.Languages.GET_LIST\r\n      );\r\n      if (response.data?.payload) {\r\n        setLanguages(response.data?.payload?.result?.data);\r\n        setLangCode(response.data?.payload?.result?.data[0]?.lang_code)\r\n      }\r\n      dispatch(stopLoading());\r\n    } catch (error) {\r\n      console.log(error);\r\n      showErrorMessage(error?.response?.data?.message);\r\n      dispatch(stopLoading());\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchLanguageData()\r\n    //eslint-disable-next-line  \r\n  }, [])\r\n  return (\r\n    <Grid container spacing={2} alignItems=\"stretch\" style={{ display: 'flex', justifyContent: 'end' }}>\r\n      <Grid item xs={12} sx={{ paddingTop: { xs: '0.5rem !important', sx: '0.5rem !important', md: '0px !important' } }} >\r\n        <BackNavigate />\r\n      </Grid>\r\n      <Grid item xs={12} md={6}>\r\n        <Card style={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n          <CardContent style={{ flex: 1 }}>\r\n            <Typography variant=\"h4\" style={{ fontWeight: \"bold\", marginBottom: '0.75rem' }}>\r\n              Category Details\r\n            </Typography>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} sm={12} sx={{ display: \"flex\", justifyContent: \"center\" }}>\r\n                <ImageWithPreview\r\n                  src={\r\n                    formData?.logo?.length > 0\r\n                      ? URL.createObjectURL(formData.logo[0])\r\n                      : \"\"\r\n                  }\r\n                  alt=\"Brand Logo\"\r\n                  height=\"145px\"\r\n                  width=\"145px\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={6} sm={12}>\r\n                <FileUpload inputName=\"logo*\" handleChange={(name, value) => handleSelectChange('logo', value)} error={errors?.logo?.message} />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={6} sm={12}>\r\n                <SelectInput\r\n                  name=\"language\"\r\n                  startEdit={true}\r\n                  seperatedLabel={false}\r\n                  defaultValue={langCode}\r\n                  options={createGeneralOptions(languages, \"lang_name\", \"lang_code\")}\r\n                  handleChange={(name, value) => setLangCode(value)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6} lg={6} sm={12}>\r\n                <TextInput\r\n                  name={\"category_name*\"}\r\n                  error={errors?.category_name?.message}\r\n                  startEdit={true}\r\n                  handleChange={(name, value) => handleSelectChange('category_name', value)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={12} lg={12} sm={12}>\r\n                <Editor\r\n                  name={\"description*\"}\r\n                  error={errors?.description?.message}\r\n                  defaultValue={formData?.description || \"\"}\r\n                  handleChange={(name, value) => handleSelectChange('description', value)}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </CardContent>\r\n        </Card>\r\n      </Grid>\r\n      <Grid item xs={12} display=\"flex\" gap={\"1rem\"} justifyContent=\"end\">\r\n        <Button\r\n          fullWidth\r\n          variant=\"contained\"\r\n          onClick={addCategory}\r\n          sx={{\r\n            color: theme.palette.common.white,\r\n            width: \"max-content\",\r\n            backgroundColor: theme.palette.success.main,\r\n            \"&:hover\": {\r\n              backgroundColor: theme.palette.success.main,\r\n            },\r\n          }}\r\n        >\r\n          Add Category\r\n        </Button>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default AddCategory;\r\n"],"names":["_formData$logo","_errors$logo","_errors$category_name","_errors$description","formData","setFormData","useState","errors","setErrors","theme","useTheme","navigate","useNavigate","dispatch","useDispatch","langCode","setLangCode","languages","setLanguages","handleSelectChange","name","value","keys","split","prevData","newData","current","i","length","prevErrors","newErrors","useEffect","async","_response$data2","startLoading","response","axiosInstance","get","AxiosInstancePaths","Languages","GET_LIST","_response$data3","_response$data3$paylo","_response$data3$paylo2","_response$data4","_response$data4$paylo","_response$data4$paylo2","_response$data4$paylo3","data","payload","result","lang_code","stopLoading","error","_error$response2","_error$response2$data","console","log","showErrorMessage","message","fetchLanguageData","_jsxs","Grid","container","spacing","alignItems","style","display","justifyContent","children","_jsx","item","xs","sx","paddingTop","md","BackNavigate","Card","height","flexDirection","CardContent","flex","Typography","variant","fontWeight","marginBottom","sm","ImageWithPreview","src","logo","URL","createObjectURL","alt","width","lg","FileUpload","inputName","handleChange","SelectInput","startEdit","seperatedLabel","defaultValue","options","createGeneralOptions","TextInput","category_name","Editor","description","gap","Button","fullWidth","onClick","_response$data","validateSchema","CategorySchema","newFormData","FormData","documents","tempFormData","objectToFormData","post","Categories","ADD","params","JSON","stringify","showSuccessMessage","_error$response","_error$response$data","color","palette","common","white","backgroundColor","success","main"],"sourceRoot":""}