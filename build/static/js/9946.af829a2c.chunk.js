"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[9946],{3903:(e,t,o)=>{o.d(t,{A:()=>a});o(5043);var i=o(579);const a=function(e){let{label:t,value:o,...a}=e;return(0,i.jsxs)("div",{...a,children:[(0,i.jsx)("div",{style:{padding:"0.5rem 0px",color:"#083344",borderRadius:"5px",border:"none"},children:(n=t,n.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "))}),(0,i.jsx)("div",{style:{padding:"0.5rem 1rem",backgroundColor:"#f4f6f8",borderRadius:"5px",border:"none"},children:o||"Not Set"})]});var n}},2526:(e,t,o)=>{o.d(t,{A:()=>c});var i=o(5043),a=o(184),n=o(6720),l=o(7392),s=o(7121),r=o(6240),d=o(579);const c=e=>{let{src:t,alt:o,height:c="auto",width:u="auto",radius:m="10px",isDeletable:h=!1,deletePath:x="",deleteImage:v=e=>{}}=e;const p=(0,r.A)(),[g,y]=(0,i.useState)(!1),A=()=>{y(!g)};return(0,d.jsx)("div",{children:t?(0,d.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,d.jsx)("img",{style:{cursor:"pointer",borderRadius:m},src:t,alt:o,onClick:A,height:c,width:u}),(0,d.jsxs)("div",{style:{position:"absolute",height:"-webkit-fill-available",width:"100%",top:"0px",display:"flex",gap:"10px",justifyContent:"end",alignItems:"start"},children:[(0,d.jsx)(l.A,{size:"small",onClick:A,style:{color:p.palette.warning.main},children:(0,d.jsx)(a.Ny1,{})}),h&&(0,d.jsx)(l.A,{size:"small",className:"delete",onClick:()=>v(x),style:{color:p.palette.error.main},children:(0,d.jsx)(n.b6i,{})})]}),(0,d.jsx)("div",{style:{display:g?"flex":"none",position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:A,children:(0,d.jsx)("img",{src:t,alt:o,style:{maxWidth:"90%",maxHeight:"90%",borderRadius:"10px"}})})]}):(0,d.jsx)(s.A,{animation:"wave",variant:"rounded",style:{height:c,width:u,marginBottom:"0.4rem"}})})}},5804:(e,t,o)=>{o.r(t),o.d(t,{default:()=>f});var i=o(6240),a=o(8903),n=o(2110),l=o(6494),s=o(5865),r=o(6446),d=o(1906),c=o(5043),u=o(3003),m=o(3216),h=o(3903),x=o(1935),v=o(4356),p=o(7863),g=o(1944),y=o(2526),A=o(74),j=o.n(A),b=o(579);const f=function(){const[e,t]=(0,c.useState)(),{id:o}=(0,m.g)(),A=(0,i.A)(),f=(0,u.wA)(),w=(0,m.Zp)();return(0,c.useEffect)((()=>{(async()=>{try{var e;f((0,x.vL)());const n=await p.A.get(g.A.Bills.GET_BY_ID+o);var i,a;null!==(e=n.data)&&void 0!==e&&e.payload&&t(null===(i=n.data)||void 0===i||null===(a=i.payload)||void 0===a?void 0:a.result),f((0,x.xv)())}catch(s){var n,l;console.log(s),(0,v.f1)(null===s||void 0===s||null===(n=s.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message),f((0,x.xv)())}})()}),[o]),(0,b.jsxs)(a.Ay,{container:!0,spacing:2,alignItems:"stretch",justifyContent:"end",children:[(0,b.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,b.jsx)(n.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,b.jsxs)(l.A,{style:{flex:1},children:[(0,b.jsx)(s.A,{variant:"h4",style:{fontWeight:"bold",marginBottom:"0.75rem"},sx:{marginBottom:"0.5rem"},children:"Bill Details"}),(0,b.jsxs)(a.Ay,{container:!0,spacing:2,children:[(0,b.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.A,{label:"invoice",value:(null===e||void 0===e?void 0:e.invoice_id)||"Not Set",disabled:!0})}),(0,b.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.A,{label:"order_amount",value:(null===e||void 0===e?void 0:e.order_amount)||"Not Set",disabled:!0})}),(0,b.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.A,{label:"bill_amount",value:(null===e||void 0===e?void 0:e.bill_amount)||"Not Set",disabled:!0})}),(0,b.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.A,{label:"tax_amount",value:(null===e||void 0===e?void 0:e.tax_amount)||"Not Set",disabled:!0})}),(0,b.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.A,{label:"discount_amount",value:(null===e||void 0===e?void 0:e.discount_amount)||"Not Set",disabled:!0})}),(0,b.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.A,{label:"payment_status",value:(null===e||void 0===e?void 0:e.payment_status)||"Not Set",disabled:!0})}),(0,b.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.A,{label:"createdAt",value:null!==e&&void 0!==e&&e.createdAt?new Date(e.createdAt).toLocaleDateString():"Not Set",disabled:!0})}),(0,b.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,b.jsx)(h.A,{label:"payment_method",value:(null===e||void 0===e?void 0:e.payment_method)||"Not Set",disabled:!0})})]}),(0,b.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",margin:"1rem 0px"},children:(0,b.jsx)(y.A,{src:null!==e&&void 0!==e&&e.payment_details?g.A.base_url+(null===e||void 0===e?void 0:e.payment_details):"",alt:"User Profile",height:"145px",width:"145px"})})]})})}),(0,b.jsx)(a.Ay,{item:!0,xs:12,children:(0,b.jsxs)(r.A,{sx:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[(0,b.jsx)(d.A,{variant:"contained",sx:{color:A.palette.common.white,width:"max-content",backgroundColor:A.palette.warning.main,"&:hover":{backgroundColor:A.palette.warning.main}},onClick:()=>window.history.back(),children:"Back"}),(0,b.jsx)(d.A,{variant:"contained",sx:{color:A.palette.common.white,width:"max-content",backgroundColor:A.palette.success.main,"&:hover":{backgroundColor:A.palette.success.main}},onClick:async()=>{try{f((0,x.vL)());const e=await p.A.get(g.A.Bills.DOWNLOAD_BILL+o,{responseType:"text"}),t=document.createElement("div");t.innerHTML=e.data;const i={margin:.1,filename:"bill.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};j()().from(t).set(i).save(),f((0,x.xv)())}catch(i){var e,t;console.log(i),(0,v.f1)(null===i||void 0===i||null===(e=i.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message),f((0,x.xv)())}},children:"Download Pdf"}),null!==e&&void 0!==e&&e.order_id?(0,b.jsx)(d.A,{variant:"contained",sx:{color:A.palette.common.white,width:"max-content",backgroundColor:A.palette.secondary.main,"&:hover":{backgroundColor:A.palette.secondary.main}},onClick:()=>w("/orders/edit/".concat(null===e||void 0===e?void 0:e.order_id)),children:"View Order"}):""]})})]})}},7863:(e,t,o)=>{o.d(t,{A:()=>c});var i=o(6213),a=o(1944),n=o(790),l=o(8402);const s=i.A.create({baseURL:a.A.base_url,timeout:1e4,headers:{Accept:"application/json, application/octet-stream"},withCredentials:!1});let r=!1,d=[];s.interceptors.request.use((e=>{const t=localStorage.getItem(n.o.localStorageKeys.token);return t&&(e.headers.Authorization="Bearer ".concat(t),e.withCredentials=!0),e}),(e=>Promise.reject(e))),s.interceptors.response.use((e=>e),(e=>{const{config:t,response:o}=e,i=t;if("Token has expired"===o.data.message){if(!r){r=!0;const t=localStorage.getItem(n.o.localStorageKeys.refresh_token);return s.post(a.A.refresh_token_url,{refreshToken:t}).then((e=>{var t;let{data:o}=e;const a=null===o||void 0===o||null===(t=o.payload)||void 0===t?void 0:t.accessToken;var l;return localStorage.setItem(n.o.localStorageKeys.token,a),r=!1,l=a,d.forEach((e=>e(l))),d=[],i.headers.Authorization="Bearer ".concat(a),s(i)})).catch((t=>(console.error("Failed to refresh token:",t),(0,l.sw)(),window.location.href=a.A.login_path,Promise.reject(e))))}return new Promise((e=>{var t;t=t=>{i.headers.Authorization="Bearer ".concat(t),e(s(i))},d.push(t)}))}return"Token is invalid"===o.data.message&&((0,l.sw)(),window.location.href=a.A.login_path),Promise.reject(e)}));const c=s},4356:(e,t,o)=>{o.d(t,{f1:()=>l,uT:()=>n});var i=o(1036);o(2342);const a={position:"top-center",closeButton:!1,progress:!1},n=e=>{i.oR.success(e,a)},l=e=>{i.oR.error(e,a)}}}]);
//# sourceMappingURL=9946.af829a2c.chunk.js.map