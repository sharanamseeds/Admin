"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[6315],{2023:(e,t,a)=>{a.d(t,{A:()=>i});a(5043);var o=a(6240),n=a(7392),l=a(9120),r=a(579);const i=function(){const e=(0,o.A)();return(0,r.jsx)("div",{style:{display:"flex",justifyContent:"start"},children:(0,r.jsxs)(n.A,{variant:"contained",sx:{color:e.palette.common.white,width:"max-content",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.main}},onClick:()=>window.history.back(),children:[(0,r.jsx)(l.A,{})," "]})})}},48:(e,t,a)=>{a.d(t,{A:()=>M});var o=a(6240),n=a(7392),l=a(8577),r=a(8587),i=a(8168),s=a(5043),d=a(8387),c=a(8610),u=a(7266),v=a(6803),h=a(3064),p=a(4535),m=a(8206),x=a(2532),A=a(2372);function g(e){return(0,A.Ay)("MuiSwitch",e)}const y=(0,x.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var f=a(579);const j=["className","color","edge","size","sx"],w=(0,p.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.edge&&t["edge".concat((0,v.A)(a.edge))],t["size".concat((0,v.A)(a.size))]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,["& .".concat(y.thumb)]:{width:16,height:16},["& .".concat(y.switchBase)]:{padding:4,["&.".concat(y.checked)]:{transform:"translateX(16px)"}}}}]}),b=(0,p.Ay)(h.A,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.switchBase,{["& .".concat(y.input)]:t.input},"default"!==a.color&&t["color".concat((0,v.A)(a.color))]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(y.checked)]:{transform:"translateX(20px)"},["&.".concat(y.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(y.checked," + .").concat(y.track)]:{opacity:.5},["&.".concat(y.disabled," + .").concat(y.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(y.input)]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,u.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[a]=e;return{props:{color:a},style:{["&.".concat(y.checked)]:{color:(t.vars||t).palette[a].main,"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[a].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,u.X4)(t.palette[a].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(y.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(a,"DisabledColor")]:"".concat("light"===t.palette.mode?(0,u.a)(t.palette[a].main,.62):(0,u.e$)(t.palette[a].main,.55))}},["&.".concat(y.checked," + .").concat(y.track)]:{backgroundColor:(t.vars||t).palette[a].main}}}}))]}})),k=(0,p.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),C=(0,p.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),_=s.forwardRef((function(e,t){const a=(0,m.b)({props:e,name:"MuiSwitch"}),{className:o,color:n="primary",edge:l=!1,size:s="medium",sx:u}=a,h=(0,r.A)(a,j),p=(0,i.A)({},a,{color:n,edge:l,size:s}),x=(e=>{const{classes:t,edge:a,size:o,color:n,checked:l,disabled:r}=e,s={root:["root",a&&"edge".concat((0,v.A)(a)),"size".concat((0,v.A)(o))],switchBase:["switchBase","color".concat((0,v.A)(n)),l&&"checked",r&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},d=(0,c.A)(s,g,t);return(0,i.A)({},t,d)})(p),A=(0,f.jsx)(C,{className:x.thumb,ownerState:p});return(0,f.jsxs)(w,{className:(0,d.A)(x.root,o),sx:u,ownerState:p,children:[(0,f.jsx)(b,(0,i.A)({type:"checkbox",icon:A,checkedIcon:A,ref:t,ownerState:p},h,{classes:(0,i.A)({},x,{root:x.switchBase})})),(0,f.jsx)(k,{className:x.track,ownerState:p})]})}));var S=a(7196),R=a(5394),z=a(423),E=a(4861);const M=function(e){let{startEdit:t=!1,sepratedUpdate:a=!1,prefix:r=[],suffix:i,name:d,error:c=null,isDisabel:u=!1,handleChange:v=(e,t)=>console.log(e,t),defaultValue:h=!1}=e;const[p,m]=(0,s.useState)(t),[x,A]=(0,s.useState)(!1),g=(0,o.A)();return(0,s.useEffect)((()=>{A(h)}),[h]),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,f.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,f.jsx)("div",{style:{padding:"0.5rem 0px",color:g.palette.common.black,borderRadius:"5px",border:"none"},children:(y=d,y.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "))}),p?null:(0,f.jsx)("div",{style:{display:"inline-flex",marginRight:"0.3rem",color:g.palette.common.black},children:(0,f.jsx)(n.A,{style:{backgroundColor:"transparent"},size:"small",onClick:()=>m(!0),children:(0,f.jsx)(S.fkO,{color:g.palette.common.black})})}),p&&a?(0,f.jsx)("div",{style:{display:"inline-flex",marginRight:"0.3rem",color:g.palette.common.black},children:(0,f.jsx)(n.A,{size:"small",onClick:()=>{A(!1),a||v(d,""),m(!1)},children:(0,f.jsx)(R.Xr4,{color:g.palette.common.black})})}):null,p&&a?(0,f.jsx)("div",{style:{display:"inline-flex",marginRight:"0.3rem",color:g.palette.common.black},children:(0,f.jsx)(n.A,{size:"small",onClick:()=>{v(d,x),m(!1)},style:{backgroundColor:"transparent"},children:(0,f.jsx)(z.N__,{color:g.palette.common.black})})}):null]}),(0,f.jsx)(l.A,{style:{margin:"0px"},control:(0,f.jsx)(_,{checked:x,disabled:u,onChange:e=>{A(e.target.checked),a||v(d,e.target.checked)},style:{color:x?g.palette.secondary:void 0}})})]}),c?(0,f.jsx)("div",{style:{textAlign:"center"},children:(0,f.jsx)(E.A,{message:c})}):null]});var y}},7527:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var o=a(6240),n=a(8903),l=a(2110),r=a(6494),i=a(5865),s=a(6446),d=a(1906),c=a(5043),u=a(8990),v=a(48),h=a(8716),p=a(3216),m=a(3003),x=a(1935),A=a(4356),g=a(7863),y=a(1944),f=a(2023),j=a(8402),w=a(579);const b=function(){var e;const t=(0,o.A)(),{id:a}=(0,p.g)(),b=(0,m.wA)(),[k,C]=(0,c.useState)({}),[_,S]=(0,c.useState)({}),[R,z]=(0,c.useState)({}),[E,M]=(0,c.useState)([]),[T,B]=(0,c.useState)([]),N=(0,p.Zp)(),D=(e,t)=>{const a=e.split(".");C((e=>{let o={...e},n=o;for(let t=0;t<a.length-1;t++)n[a[t]]=n[a[t]]||{},n=n[a[t]];return n[a[a.length-1]]=t,o})),S((e=>{let t={...e},o=t;for(let n=0;n<a.length-1;n++)o[a[n]]=o[a[n]]||{},o=o[a[n]];return delete o[a[a.length-1]],t}))},V=async()=>{try{var e;b((0,x.vL)());const n=await g.A.get(y.A.Permissions.GET_LIST,{params:{role:a}});var t,o;if(null!==(e=n.data)&&void 0!==e&&e.payload)M(null===(t=n.data)||void 0===t||null===(o=t.payload)||void 0===o?void 0:o.result);b((0,x.xv)())}catch(c){var n,l,r,i,s,d;if(console.log(c),null!==c&&void 0!==c&&null!==(n=c.response)&&void 0!==n&&null!==(l=n.data)&&void 0!==l&&l.errors)S((0,j.tr)(null===c||void 0===c||null===(s=c.response)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.errors));(0,A.f1)(null===c||void 0===c||null===(r=c.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message),b((0,x.xv)())}},I=async(e,t,a)=>{const o={...E[a],[e]:t};await(async e=>{try{let t={...e};delete t._id,delete t.role,delete t.module,delete t.createdAt,delete t.updatedAt,delete t.__v,await g.A.put(y.A.Permissions.UPDATE_BY_ID+e._id,t)}catch(i){var t,a,o,n,l,r;console.log(i),null!==i&&void 0!==i&&null!==(t=i.response)&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.errors&&S((0,j.tr)(null===i||void 0===i||null===(l=i.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.errors)),(0,A.f1)(null===i||void 0===i||null===(o=i.response)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.message),b((0,x.xv)())}})(o),await V()};return(0,c.useEffect)((()=>{(async()=>{try{var e;b((0,x.vL)());const o=await g.A.get(y.A.Modules.GET_LIST);var t,a;null!==(e=o.data)&&void 0!==e&&e.payload&&B(null===o||void 0===o||null===(t=o.data)||void 0===t||null===(a=t.payload)||void 0===a?void 0:a.result),b((0,x.xv)())}catch(d){var o,n,l,r,i,s;console.log(d),null!==d&&void 0!==d&&null!==(o=d.response)&&void 0!==o&&null!==(n=o.data)&&void 0!==n&&n.errors&&S((0,j.tr)(null===d||void 0===d||null===(i=d.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.errors)),(0,A.f1)(null===d||void 0===d||null===(l=d.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.message),b((0,x.xv)())}})(),(async()=>{try{var e;b((0,x.vL)());const n=await g.A.get(y.A.Roles.GET_BY_ID+a);var t,o;null!==(e=n.data)&&void 0!==e&&e.payload&&z(null===(t=n.data)||void 0===t||null===(o=t.payload)||void 0===o?void 0:o.result),b((0,x.xv)())}catch(c){var n,l,r,i,s,d;console.log(c),null!==c&&void 0!==c&&null!==(n=c.response)&&void 0!==n&&null!==(l=n.data)&&void 0!==l&&l.errors&&S((0,j.tr)(null===c||void 0===c||null===(s=c.response)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.errors)),(0,A.f1)(null===c||void 0===c||null===(r=c.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message),b((0,x.xv)())}})(),V()}),[a]),(0,w.jsxs)(n.Ay,{container:!0,spacing:2,children:[(0,w.jsx)(n.Ay,{item:!0,xs:12,sx:{paddingTop:{xs:"0.5rem !important",sx:"0.5rem !important",md:"0px !important"}},children:(0,w.jsx)(f.A,{})}),(0,w.jsx)(n.Ay,{item:!0,xs:12,children:(0,w.jsx)(n.Ay,{container:!0,justifyContent:"flex-start",spacing:2,children:(0,w.jsx)(n.Ay,{item:!0,xs:12,md:4,children:(0,w.jsx)(l.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,w.jsxs)(r.A,{style:{flex:1},children:[(0,w.jsx)(i.A,{variant:"h4",style:{fontWeight:"bold"},children:"Role Details"}),(0,w.jsxs)(n.Ay,{container:!0,justifyContent:"space-between",children:[(0,w.jsx)(n.Ay,{item:!0,xs:12,children:(0,w.jsx)(u.A,{name:"Name",error:null===_||void 0===_||null===(e=_.role_name)||void 0===e?void 0:e.message,defaultValue:(null===k||void 0===k?void 0:k.role_name)||(null===R||void 0===R?void 0:R.role_name),startEdit:!0,handleChange:(e,t)=>D("role_name",t)})}),(0,w.jsx)(n.Ay,{item:!0,xs:12,style:{marginTop:"0.5rem"},children:(0,w.jsx)(v.A,{name:"Role Active",defaultValue:(null===k||void 0===k?void 0:k.is_active)||(null===R||void 0===R?void 0:R.is_active),startEdit:!0,handleChange:(e,t)=>D("is_active",t)})})]})]})})})})}),(0,w.jsx)(n.Ay,{item:!0,xs:12,children:(0,w.jsx)(n.Ay,{container:!0,justifyContent:"flex-start",spacing:2,children:E.length>0?E.map(((e,t)=>{var a;return(0,w.jsx)(n.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,w.jsx)(l.A,{style:{height:"100%",display:"flex",flexDirection:"column"},children:(0,w.jsxs)(r.A,{style:{flex:1},children:[(0,w.jsxs)(i.A,{variant:"h4",style:{fontWeight:"bold"},children:[null===(a=T.find((t=>t._id===e.module)))||void 0===a?void 0:a.name," Access"]}),(0,w.jsxs)(n.Ay,{container:!0,justifyContent:"space-between",children:[(0,w.jsx)(n.Ay,{item:!0,xs:12,children:(0,w.jsx)(v.A,{name:"can_read",defaultValue:null===e||void 0===e?void 0:e.can_read,startEdit:!0,handleChange:(e,a)=>I("can_read",a,t)})}),(0,w.jsx)(n.Ay,{item:!0,xs:12,children:(0,w.jsx)(v.A,{name:"can_select",defaultValue:null===e||void 0===e?void 0:e.can_select,startEdit:!0,handleChange:(e,a)=>I("can_select",a,t)})}),(0,w.jsx)(n.Ay,{item:!0,xs:12,children:(0,w.jsx)(v.A,{name:"can_add",defaultValue:null===e||void 0===e?void 0:e.can_add,startEdit:!0,handleChange:(e,a)=>I("can_add",a,t)})}),(0,w.jsx)(n.Ay,{item:!0,xs:12,children:(0,w.jsx)(v.A,{name:"can_update",defaultValue:null===e||void 0===e?void 0:e.can_update,startEdit:!0,handleChange:(e,a)=>I("can_update",a,t)})}),(0,w.jsx)(n.Ay,{item:!0,xs:12,children:(0,w.jsx)(v.A,{name:"can_delete",defaultValue:null===e||void 0===e?void 0:e.can_delete,startEdit:!0,handleChange:(e,a)=>I("can_delete",a,t)})}),(0,w.jsx)(n.Ay,{item:!0,xs:12,children:(0,w.jsx)(v.A,{name:"can_upload",defaultValue:null===e||void 0===e?void 0:e.can_upload,startEdit:!0,handleChange:(e,a)=>I("can_upload",a,t)})}),(0,w.jsx)(n.Ay,{item:!0,xs:12,children:(0,w.jsx)(v.A,{name:"can_download",defaultValue:null===e||void 0===e?void 0:e.can_download,startEdit:!0,handleChange:(e,a)=>I("can_download",a,t)})})]})]})})},t)})):""})}),(0,w.jsx)(n.Ay,{item:!0,xs:12,children:(0,w.jsx)(s.A,{sx:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:(0,w.jsx)(d.A,{variant:"contained",sx:{color:t.palette.common.white,width:"max-content",backgroundColor:t.palette.success.main,"&:hover":{backgroundColor:t.palette.success.main}},onClick:async()=>{try{var e;if(!await(0,h.i6)(h.Tc,k,S))return;b((0,x.vL)());const t=await g.A.put(y.A.Roles.UPDATE_BY_ID+a,k);(0,A.uT)(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.message),b((0,x.xv)()),N("/roles")}catch(s){var t,o,n,l,r,i;if(console.log(s),null!==s&&void 0!==s&&null!==(t=s.response)&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.errors)S((0,j.tr)(null===s||void 0===s||null===(r=s.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.errors));(0,A.f1)(null===s||void 0===s||null===(n=s.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message),b((0,x.xv)())}},children:"Save"})})})]})}},9120:(e,t,a)=>{var o=a(4994);t.A=void 0;var n=o(a(39)),l=a(579);t.A=(0,n.default)((0,l.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},6494:(e,t,a)=>{a.d(t,{A:()=>x});var o=a(8168),n=a(8587),l=a(5043),r=a(8387),i=a(8610),s=a(4535),d=a(8206),c=a(2532),u=a(2372);function v(e){return(0,u.Ay)("MuiCardContent",e)}(0,c.A)("MuiCardContent",["root"]);var h=a(579);const p=["className","component"],m=(0,s.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),x=l.forwardRef((function(e,t){const a=(0,d.b)({props:e,name:"MuiCardContent"}),{className:l,component:s="div"}=a,c=(0,n.A)(a,p),u=(0,o.A)({},a,{component:s}),x=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},v,t)})(u);return(0,h.jsx)(m,(0,o.A)({as:s,className:(0,r.A)(x.root,l),ownerState:u,ref:t},c))}))},2110:(e,t,a)=>{a.d(t,{A:()=>A});var o=a(8168),n=a(8587),l=a(5043),r=a(8387),i=a(8610),s=a(4535),d=a(8206),c=a(3336),u=a(2532),v=a(2372);function h(e){return(0,v.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var p=a(579);const m=["className","raised"],x=(0,s.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),A=l.forwardRef((function(e,t){const a=(0,d.b)({props:e,name:"MuiCard"}),{className:l,raised:s=!1}=a,c=(0,n.A)(a,m),u=(0,o.A)({},a,{raised:s}),v=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},h,t)})(u);return(0,p.jsx)(x,(0,o.A)({className:(0,r.A)(v.root,l),elevation:s?8:void 0,ref:t,ownerState:u},c))}))}}]);
//# sourceMappingURL=6315.b63a085e.chunk.js.map